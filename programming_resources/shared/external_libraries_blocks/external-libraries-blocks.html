<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
 <meta name="google-site-verification" content="75RBwHq1pWFvK2E7wuVgAeq_LOOJrU4q1wRIjXqPpqg" />  <!-- Google Analytics Intentionally Disabled -->  <!-- Cookie Banner Intentionally Disabled --> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>External Libraries in OnBot Java and Blocks &mdash; FIRST Tech Challenge Docs 0.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster.custom.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster.bundle.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-shadow.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-punk.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-noir.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-light.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-borderless.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/micromodal.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/ftc-rtd.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/sphinx_rtd_theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/dark_mode_css/general.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/dark_mode_css/dark.css" />

  
    <link rel="shortcut icon" href="../../../_static/FIRSTicon_RGB_withTM.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/js/hoverxref.js"></script>
        <script src="../../../_static/js/tooltipster.bundle.min.js"></script>
        <script src="../../../_static/js/micromodal.min.js"></script>
        <script src="../../../_static/js/external-links-new-tab.js"></script>
        <script src="../../../_static/js/adjust-css-vars.js"></script>
        <script src="../../../_static/design-tabs.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="../../../_static/dark_mode_js/default_light.js"></script>
        <script src="../../../_static/dark_mode_js/theme_switcher.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Universal IMU Interface" href="../../imu/imu.html" />
    <link rel="prev" title="Summary: Benefits of myBlocks" href="../myblocks/summary/summary.html" /> 
</head>

<body class="wy-body-for-nav"> 


<div class="header-bar">
        <!-- Color Strip -->
        <div class="color-strip">
            <div class="fred"></div>
            <div class="forange"></div>
            <div class="fblue"></div>
        </div>
        <div class="link-bar-container">
            <div id="link-bar" class="collapse">
                <ul>          
			<li id="ftc-page-link"><a href="https://www.firstinspires.org/resource-library/ftc/game-and-season-info" target="_blank"><i>FIRST</i> Official Team Resources</a></li>
                  <li id="qa-link"><a href="https://ftc-qa.firstinspires.org/" target="_blank">Official Game Q&A</a></li>
                </ul>
            </div>
        </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            FIRST Tech Challenge Docs
              <img src="../../../_static/FIRSTTech_iconHorz_RGB_reverse.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/ftcoverview.html">About the <em>FIRST</em> Tech Challenge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gracious_professionalism/gp.html"><em>Gracious Professionalism®</em></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../persona_pages/rookie_teams/rookie_teams.html">New Teams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../persona_pages/veteran_teams/veteran_teams.html">Returning Teams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../persona_pages/coach_admin/coach_admin.html">Coach (Administrative) Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../persona_pages/mentor_tech/mentor_tech.html">Technical Mentor Resources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Game and Season-Specific Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../game_specific_resources/blog/blog.html"><em>FIRST</em> Tech Challenge Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tech_tips/tech-tips.html"><em>FIRST</em> Tech Challenge Tech Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ai/innovation_corner/innovation-corner.html">AI Innovation Corner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../manuals/game_manuals/game_manuals.html">Competition Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../game_specific_resources/ftcqa/ftcqa.html">Game Q&amp;A System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../game_specific_resources/playing_field_resources/playing_field_resources.html">Playing Field Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../game_specific_resources/field_coordinate_system/field-coordinate-system.html">Field Coordinate System</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Development Kit (SDK)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../laptops/laptops.html">Laptop Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ftc_sdk/overview/index.html">SDK Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ftc_sdk/updating/index.html">Updating Components</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Control System Resources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../control_system_intro/The-FTC-Control-System.html">Control System Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../control_hard_compon/index.html">Hardware Component Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hardware_and_software_configuration/index.html">Hardware and Software Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hardware_and_software_configuration/self_inspect/new-self-inspect.html"><em>FIRST</em> Tech Challenge Self-Inspect</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hardware_and_software_configuration/self_inspect/self-inspect.html">Old Self-Inspect</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Programming Resources</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../index.html#programming-tutorials">Programming Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#supporting-documentation">Supporting Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#apriltag-programming">AprilTag Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#tensorflow-programming">TensorFlow Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#vision-programming">Vision Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#camera-color-processing">Camera Color Processing</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#advanced-topics">Advanced Topics</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../pid_coefficients/pid-coefficients.html">Changing PID Coefficients</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pidf_coefficients/pidf-coefficients.html">Changing PIDF Coefficients</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_load_opmode/auto-load-opmode.html">Automatically Loading a Driver Controlled Op Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../myblocks/index.html">Custom Blocks (myBlocks)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">External Libraries in OnBot Java and Blocks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-1-select-library-get-archive-file">Step 1 - Select library, get archive file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-2-upload-archive-file">Step 2 - Upload archive file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-3-programming">Step 3 - Programming</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-training-documentation">User Training &amp; Documentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#benefits">Benefits</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-1-non-annotated-library">Example 1 - non-annotated library</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-2-first-tech-challenge-annotated-library">Example 2 - <em>FIRST</em> Tech Challenge-annotated library</a></li>
<li class="toctree-l4"><a class="reference internal" href="#real-world-libraries">Real-world libraries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#advanced">Advanced</a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../imu/imu.html">Universal IMU Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installing_kotlin/Installing-Kotlin.html">Using the Kotlin Programming Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../devices/huskylens/huskylens.html">HuskyLens Intro for <em>FIRST</em> Tech Challenge</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#java-tutorials">Java Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#additional-first-website-resources">Additional <em>FIRST</em> Website Resources</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Programming Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../choosing_program_lang/choosing-program-lang.html">Choosing a Programming Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../blocks/Blocks-Tutorial.html">Blocks Programming Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../onbot_java/OnBot-Java-Tutorial.html">OnBot Java Programming Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../android_studio_java/Android-Studio-Tutorial.html">Android Studio Programming Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AprilTag Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../apriltag/vision_portal/apriltag_intro/apriltag-intro.html">AprilTag Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../apriltag/vision_portal/visionportal_overview/visionportal-overview.html">VisionPortal Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../apriltag/vision_portal/visionportal_webcams/visionportal-webcams.html">Webcams for VisionPortal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../apriltag/understanding_apriltag_detection_values/understanding-apriltag-detection-values.html">Understanding AprilTag Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../apriltag/vision_portal/apriltag_localization/apriltag-localization.html">AprilTag Localization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../apriltag/opmode_test_images/opmode-test-images.html">AprilTag Test Images</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">CAD Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../cad_resources/index.html">Computer Aided Design (CAD)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Electrostatic Discharge</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../hardware_and_software_configuration/configuring/managing_esd/managing-esd.html">Managing ESD Effects</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Manufacturing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../manufacturing/index.html">Manufacturing Methods</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Team Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/faqs.html">Common Team FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sponsors/software/software.html">Team Complimentary Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sponsors/discounts/discounts.html">Team Discounts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FTC Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../booklets/index.html">Booklets</a></li>
<li class="toctree-l1"><a class="reference external" href="https://ftc-docs.firstinspires.org/projects/ftcdocs-archive/en/latest/index.html">Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ftc_docs/form/form.html">Site Feedback Form</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contrib/index.html">Contributing to FTC Docs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">FIRST Tech Challenge Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Programming Resources</a></li>
      <li class="breadcrumb-item active">External Libraries in OnBot Java and Blocks</li>
<li class="wy-breadcrumbs-aside" style="padding-inline-start: 6px;">
</li>

      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/programming_resources/shared/external_libraries_blocks/external-libraries-blocks.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="external-libraries-in-onbot-java-and-blocks">
<h1>External Libraries in OnBot Java and Blocks<a class="headerlink" href="#external-libraries-in-onbot-java-and-blocks" title="Permalink to this heading"></a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading"></a></h2>
<p>Blocks and OnBot Java programmers can use external libraries,
starting with SDK 7.0 released for the Freight Frenzy season. This
capability previously existed for programmers using Android Studio.</p>
<p>An external library is a collection of specialized software ready for
public use, and typically available from a website or repository, called
a ‘repo’. You don’t need to know its inner workings, just what it does
and how to use it.</p>
<p>This beginner-level tutorial shows how to incorporate a library’s
features into your Op Modes, and provides simple examples. It does
not teach Java.</p>
<p>Many thanks to <a class="reference external" href="https://github.com/lizlooney">Liz Looney</a> who
developed this capability, along with myBlocks and many other useful
features of the software.</p>
<p><em>Note: This new capability exists for a Robot Controller (RC)
running Android 7 &amp; and higher. Moto G 2nd Gen and Moto G 3rd Gen RC
phones cannot use this feature.</em></p>
</section>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>It’s a simple process with three basic steps.</p>
<p><strong>Step 1</strong>, find a library with features you want to use, and get its
.jar or .aar file.</p>
<p><strong>Step 2</strong>, upload that file in OnBot Java.</p>
<p>Step 3 has three variations, depending on your planned use of the
library.</p>
<p><strong>Step 3A</strong> assumes you want to use a library function, or <em>method</em>, in
OnBot Java only. Namely you are <strong>not</strong> planning to make that method
available for Blocks users.</p>
<p><strong>Step 3B</strong> assumes that you <strong>do</strong> want to provide the library method
to a Blocks user, by creating a special Block called a myBlock. MyBlocks
are not new with 7.0, but now you can use library code in that myBlock.
You can create your myBlock to have the exactly same inputs and outputs
as the library method, or slightly different inputs and outputs.</p>
<p><strong>Step 3C</strong> is a different scenario, where the library method is made
available directly to the Blocks user, <strong>without creating a myBlock</strong>.
This can be done, if the library is specially annotated by its author.</p>
</section>
<section id="step-1-select-library-get-archive-file">
<h2>Step 1 - Select library, get archive file<a class="headerlink" href="#step-1-select-library-get-archive-file" title="Permalink to this heading"></a></h2>
<p>There are hundreds of code libraries available on the internet. In Step
1, you find a library with specialized functions (methods) that you want
to use. Start with a web search, or get suggestions from other
teams.</p>
<p>It’s best to choose a repo with a well documented interface. Review its
documentation or API, learn what the methods can do, and learn about
inputs required and output provided.</p>
<p>If that’s something you want to use, then try to find the .jar or .aar
file. The <code class="docutils literal notranslate"><span class="pre">.jar</span></code> suffix means Java Archive and <code class="docutils literal notranslate"><span class="pre">.aar</span></code> means a
similar format called Android Archive. This is a compressed file
containing the entire collection of code that you want, in a single
file. It’s similar to a <em>zip file</em> that you may have used for general
web downloads.</p>
<p>If you’re having trouble locating that .jar file, or if you’re not sure
how to use that library, you are encouraged to contact the repo owner or
developer. They often enjoy hearing how programmers plan to use their
code, and would be happy to help you get started. Don’t be intimidated,
they are often willing to help.</p>
<p>Then just download that .jar or .aar file to local storage such as your
laptop or to a team Google drive.</p>
</section>
<section id="step-2-upload-archive-file">
<h2>Step 2 - Upload archive file<a class="headerlink" href="#step-2-upload-archive-file" title="Permalink to this heading"></a></h2>
<p>Copy the .jar or .aar file to your programming laptop, if the file is
not stored there already.</p>
<p>Connect your laptop via Wi-Fi to a Robot Controller device that’s
running the RC app, version 7.0 or higher (see instructions at
<code class="docutils literal notranslate"><span class="pre">Program</span> <span class="pre">and</span> <span class="pre">Manage</span></code>, on the RC phone or its paired Driver Station
device). In the Chrome browser, open OnBot Java.</p>
<p>In OnBot Java (OBJ) click the <strong>upload icon</strong>, normally used to upload a
regular Java file to the <code class="docutils literal notranslate"><span class="pre">teamcode</span></code> folder.</p>
<figure class="align-center" id="id1">
<img alt="upload icon" src="../../../_images/380-upload-icon.png" />
<figcaption>
<p><span class="caption-text">Upload icon in OnBot Java</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Instead of a Java file, select the .jar or .aar library file to upload
from the laptop.</p>
<p>OnBot Java will recognize that it’s an archive file, and will
automatically create a folder called <code class="docutils literal notranslate"><span class="pre">ExternalLibraries</span></code>. This folder
will appear above the <code class="docutils literal notranslate"><span class="pre">teamcode</span></code> folder.</p>
<figure class="align-center" id="id2">
<img alt="ExternalLibraries folder and Build Everything icon" src="../../../_images/400-folder-and-wrench.png" />
<figcaption>
<p><span class="caption-text">ExternalLibraries folder and Build Everything icon</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="step-3-programming">
<h2>Step 3 - Programming<a class="headerlink" href="#step-3-programming" title="Permalink to this heading"></a></h2>
<p>The programming step has several variations depending on how you’re
planning to use the External Library code.</p>
<p><strong>Step 3A</strong> assumes you want to use the library method only in your Java
program or OpMode, and <strong>not</strong> provide it to Blocks users. Or perhaps
your team doesn’t work with Blocks at all.</p>
<p>So, you can just start programming!</p>
<p>First import the class. You know the <strong>class name</strong> because you read
about it in the library documentation. And you know the <strong>method names</strong>
and how they work, including the inputs and outputs (and their Java
types). This tutorial does not offer Java programming instruction.</p>
<p>Remember, when all your programming is finished, click the
<code class="docutils literal notranslate"><span class="pre">Build</span> <span class="pre">Everything</span></code> icon (see image above).</p>
<p>In <strong>Step 3B</strong> you create a myBlock, which can modify the library
method, or not. It depends on the functionality you want to provide to
your Blocks programmer.</p>
<p><strong>Unmodified</strong> means that your myBlock simply calls the library method,
using exactly the same inputs and outputs. This might be called a
<em>wrapper method</em>.</p>
<p>Or, you can use the library method as a <strong>utility function</strong>, performing
a specific task in or for your larger myBlock method. In other words,
your myBlock <strong>supplements</strong> what the library method can do.</p>
<p>Alternatively, the library method might have <strong>more</strong> parameters than
your Blocks user needs, so you want a <strong>simpler</strong> interface. Your OBJ
code can satisfy extra parameters without exposing them to the user of
your myBlock.</p>
<p>As a reminder, creating a myBlock requires only these two items:</p>
<ul class="simple">
<li><p>Extend your existing OpMode class with <code class="docutils literal notranslate"><span class="pre">BlocksOpModeCompanion</span></code>.</p></li>
<li><p>Place the annotation <code class="docutils literal notranslate"><span class="pre">&#64;ExportToBlocks</span></code> immediately before each
myBlock method.</p></li>
</ul>
<p>For more info, see the separate myBlock tutorial
<a class="reference internal" href="../myblocks/index.html#custom-blocks-myblocks"><span class="std std-ref">here</span></a>.</p>
<p><strong>Step 3C</strong> assumes the library methods should be provided <strong>directly</strong>
to the Blocks user, without even creating a myBlock. This scenario
doesn’t need to be enabled with your Java code at all.</p>
<p>Instead you must ask the <strong>library developer</strong> to add two
annotations, then provide you a fresh .jar or .aar file. The changes
are:</p>
<ul class="simple">
<li><p>Place the annotation
<code class="docutils literal notranslate"><span class="pre">&#64;org.firstinspires.ftc.robotcore.external.ExportClassToBlocks</span></code>
directly before the library class declaration.</p></li>
<li><p>Place the annotation
<code class="docutils literal notranslate"><span class="pre">&#64;org.firstinspires.ftc.robotcore.external.ExportToBlocks</span></code> directly
before each library method to be exposed (shared or passed through to
Blocks).</p></li>
</ul>
<p>When you have that archive file with its annotations, upload it in OnBot
Java, and click <code class="docutils literal notranslate"><span class="pre">Build</span> <span class="pre">Everything</span></code>. That’s it!</p>
<p>It doesn’t matter which Java file (if any) is currently open in OBJ; no
such file is needed for this feature. Those library-annotated
“pass-through” methods will automatically appear in the Blocks toolbox
(menu), with the method’s actual inputs and outputs.</p>
<p>See further below for examples of these 3 scenarios.</p>
</section>
<section id="user-training-documentation">
<h2>User Training &amp; Documentation<a class="headerlink" href="#user-training-documentation" title="Permalink to this heading"></a></h2>
<p>For Step 3B or Step 3C, your <strong>Blocks users</strong> must be taught how to use
the new myBlocks or the new pass-through Blocks. That’s <strong>your job</strong>, as
the Java developer who implemented this feature.</p>
<p>Start with good documentation. For myBlocks, use the existing tools to
make helpful labels (for input parameters), clear tooltips and detailed
comments. The comments appear in a text box that expands after clicking
the blue question-mark icon on that Block. Tell your users it’s there.</p>
<figure class="align-center" id="id3">
<img alt="wiggle servo myBlock" src="../../../_images/450-wiggle-myBlock.png" />
<figcaption>
<p><span class="caption-text">myBlock documented using comment, tooltip and input labels</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Meet with your team’s Blocks programmer(s) to explain the new features.
Consider writing a short description, for their future reference.
Encourage users to give you feedback, to improve your code.
Congratulations, you are now a Java developer!</p>
</section>
<section id="benefits">
<h2>Benefits<a class="headerlink" href="#benefits" title="Permalink to this heading"></a></h2>
<p>Obviously this External Libraries feature provides advanced functions
previously available only to Android Studio teams.</p>
<p>Secondly, more of your team members can continue programming the robot
in Blocks. Meanwhile other students (like you), if they want to, can
advance their Java skills and still contribute to the team’s actual
robot programming.</p>
<p>Often, teams have one student who has moved far ahead with their
Java skills, and becomes the team programmer – the <strong>only</strong> programmer.
Then nobody else has the chance to learn and contribute basic
programming.</p>
<p>This feature can allow a new arrangement: “nobody is left out, and
nobody is held back”.</p>
<p>As a third benefit, judges love to hear about Outreach. For example
your team could develop useful Blocks for beginner teams. Or, you share
ideas and tips with other advanced teams who are doing the same kind of
development. And, you are encouraged to communicate with library
developers. This is a good opportunity for real-world interaction with
specialists: sharing your needs, and receiving expert guidance.
Scientists, engineers, doctors, entrepreneurs – nobody needs to reinvent
the wheel. Professional life is built on these interactions.</p>
</section>
<section id="example-1-non-annotated-library">
<h2>Example 1 - non-annotated library<a class="headerlink" href="#example-1-non-annotated-library" title="Permalink to this heading"></a></h2>
<p>The first example uses a very basic “homemade” library called Geometry
For OBJ. To get your own copy, click <a class="reference download internal" download="" href="../../../_downloads/652a1bc255f938aee1025c303998668b/GeometryForObj.jar"><code class="xref download docutils literal notranslate"><span class="pre">here</span></code></a>.</p>
<p>As with any current real-world library, this one is <strong>not annotated</strong>
for use. You can use it in OnBot Java only (Step 3A), <strong>or</strong> you can
create a myBlock (Step 3B) to share its capabilities with Blocks
programmers. Lacking annotations, this library does not provide direct
“pass-through” methods (Step 3C) to Blocks.</p>
<p>This library contains a class called
<code class="docutils literal notranslate"><span class="pre">com.example.google.ftc.Geometry</span></code>, with three methods: -
<code class="docutils literal notranslate"><span class="pre">circleCircumference()</span></code> accepts radius, returns circumference -
<code class="docutils literal notranslate"><span class="pre">circleArea()</span></code> accepts radius, returns area - <code class="docutils literal notranslate"><span class="pre">hypot()</span></code> accepts 2
lengths, returns hypotenuse of right triangle</p>
<p>Under <strong>Step 3A</strong>, you would use, for example, the <code class="docutils literal notranslate"><span class="pre">hypot()</span></code> method
for your own OnBot Java programming, not providing it to Blocks.</p>
<p>Add this to your list of import statements:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.example.google.ftc.Geometry</span><span class="p">;</span>
</pre></div>
</div>
<p>Then simply use the method in your Java code:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.0</span><span class="p">;</span>
<span class="kt">double</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">4.0</span><span class="p">;</span>
<span class="kt">double</span><span class="w"> </span><span class="n">myHypotenuse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Geometry</span><span class="p">.</span><span class="na">hypot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">B</span><span class="p">);</span>
</pre></div>
</div>
<p>Under <strong>Step 3B</strong>, let’s create your own custom Block called
“myHypotenuse”. <em>This is just an exercise; regular Blocks could
easily calculate this value.</em></p>
<p>You will still need the <code class="docutils literal notranslate"><span class="pre">import</span></code> statement, same as above in Step 3A.</p>
<p>Then, extend the main class:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">librariesExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BlocksOpModeCompanion</span><span class="w"> </span><span class="p">{</span>
</pre></div>
</div>
<p>The myBlock method might read:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@ExportToBlocks</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">comment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;This myBlock returns the hypotenuse (longest side) of the right triangle&quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">              </span><span class="s">&quot; with legs whose lengths are specified by the two given numbers.&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">tooltip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;calculate hypotenuse of 2 sides&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">parameterLabels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;side a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;side b&quot;</span><span class="p">}</span>
<span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">myHypotenuse</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Geometry</span><span class="p">.</span><span class="na">hypot</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This myBlock contains only the library method and uses the same inputs
and output, an example of a ‘wrapper method’.</p>
<p>Note that myHypotenuse() is a <code class="docutils literal notranslate"><span class="pre">static</span></code> method, required for all
myBlock methods. Also note that parameter labels are allowed to be
different than the actual method parameters. Learn more about myBlocks
<a class="reference internal" href="../myblocks/index.html#custom-blocks-myblocks"><span class="std std-ref">here</span></a>.</p>
<p>Here is the myBlock that will appear in the Blocks toolbox (menu):</p>
<figure class="align-center" id="id4">
<img alt="myHypotenuse myBlock" src="../../../_images/460-myHypotenuse-myBlock.png" />
<figcaption>
<p><span class="caption-text">myBlock using library method <code class="docutils literal notranslate"><span class="pre">Geometry.hypot()</span></code></span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>On your own, you can try this with the two remaining methods. Use
myBlocks to show telemetry output of various input values.</p>
<figure class="align-center" id="id5">
<img alt="myBlocks telemetry" src="../../../_images/470-myBlocks-telemetry.png" />
<figcaption>
<p><span class="caption-text">Telemetry of myBlocks using Geometry library</span><a class="headerlink" href="#id5" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="example-2-first-tech-challenge-annotated-library">
<h2>Example 2 - <em>FIRST</em> Tech Challenge-annotated library<a class="headerlink" href="#example-2-first-tech-challenge-annotated-library" title="Permalink to this heading"></a></h2>
<p>Now let’s try another “homemade” library that <strong>does</strong> already contain
the annotations. This one is called Arithmetic For Blocks; click
<a class="reference download internal" download="" href="../../../_downloads/b6b29c40692b4b6e2bec8c12f6078f7c/ArithmeticForBlocks.aar"><code class="xref download docutils literal notranslate"><span class="pre">here</span></code></a>.</p>
<p>This library contains a class name <code class="docutils literal notranslate"><span class="pre">com.example.google.ftc.MoreMath</span></code>,
with public methods <code class="docutils literal notranslate"><span class="pre">sum</span></code>, <code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code> and <code class="docutils literal notranslate"><span class="pre">average</span></code>. Each
accepts two numbers and provides a numeric result.</p>
<p>This library <strong>is annotated</strong> specifically for team use, as described
above. After you upload the .aar file and <code class="docutils literal notranslate"><span class="pre">Build</span> <span class="pre">Everything</span></code>, its 4
“pass-through” methods will automatically appear as Blocks:</p>
<figure class="align-center" id="id6">
<img alt="MoreMath Blocks" src="../../../_images/510-MoreMath-Blocks.png" />
<figcaption>
<p><span class="caption-text">Pass-through methods from class MoreMath in annotated library
Arithmetic For Blocks</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>You <strong>could</strong> also use these methods in OnBot Java, including to create
a myBlock. For example, perhaps you want to also provide a custom
version of a pass-through method. But you <strong>don’t need</strong> an OnBot Java
file to support this library or its methods; that’s done automatically
by OnBot Java when it processes the library at upload.</p>
<p>What if you have an annotated library, and don’t want <strong>any</strong> of its
methods to appear as a Blocks pass-through? Just <code class="docutils literal notranslate"><span class="pre">Build</span> <span class="pre">Everything</span></code>,
then delete the .jar or .aar file.</p>
<p>Here are two other “homemade” libraries, both <strong>annotated</strong>. Feel free
to experiment with these.</p>
<ul class="simple">
<li><p><a class="reference download internal" download="" href="../../../_downloads/b1376f625197d1107d27a5938220f79a/JniExample.aar"><code class="xref download docutils literal notranslate"><span class="pre">JniExample.aar</span></code></a>
contains a class named <code class="docutils literal notranslate"><span class="pre">com.example.google.ftc.IntegerMath</span></code>, with
methods for simple arithmetic operations, implemented in native C++
code. Its public methods are <code class="docutils literal notranslate"><span class="pre">add</span></code>, <code class="docutils literal notranslate"><span class="pre">subtract</span></code>, <code class="docutils literal notranslate"><span class="pre">multiply</span></code>, and
<code class="docutils literal notranslate"><span class="pre">divide</span></code>. Each accepts two integers and provides an integer result.</p></li>
<li><p><a class="reference download internal" download="" href="../../../_downloads/065f0cebdf5e4ce530ceba429c485f0e/RevPotentiometer.aar"><code class="xref download docutils literal notranslate"><span class="pre">RevPotentiometer.aar</span></code></a>
contains a class named <code class="docutils literal notranslate"><span class="pre">com.example.google.ftc.RevPotentiometer</span></code>,
which is a hardware device class for the <a class="reference external" href="https://www.revrobotics.com/rev-31-1155/">REV
Potentiometer</a>. It uses
<code class="docutils literal notranslate"><span class="pre">AnalogSensorType</span></code> and <code class="docutils literal notranslate"><span class="pre">DeviceProperties</span></code> annotations to make
this sensor appear in the “Configure Robot” menu of the RC app or
paired DS app. After the .aar file has been uploaded (and
<code class="docutils literal notranslate"><span class="pre">Build</span> <span class="pre">Everything</span></code>), configure your robot’s Analog Input Devices
and choose <code class="docutils literal notranslate"><span class="pre">REV</span> <span class="pre">Potentiometer</span></code>. It has a public method
<code class="docutils literal notranslate"><span class="pre">getRotation</span></code> with parameter of type AngleUnit.</p></li>
</ul>
</section>
<section id="real-world-libraries">
<h2>Real-world libraries<a class="headerlink" href="#real-world-libraries" title="Permalink to this heading"></a></h2>
<p>External Libraries have unique content and structure. Each may pose special
challenges as you try to use it in robot code. Communication with the library
developer will be very helpful, perhaps essential.</p>
<p>Ideally, the library’s .jar or .aar file encompasses all the classes
you’ll need, without external dependencies. A good example is
<strong>EasyOpenCV</strong>, designed and ready for use. See the simple
instructions
<a class="reference external" href="https://github.com/OpenFTC/EasyOpenCV">here</a>.</p>
<p>General external libraries might involve a longer journey. For example,
<a class="reference external" href="https://commons.apache.org/">Apache Commons</a> is a vast public repo,
basically a library of libraries, focused on the Java programming
language. Complications can arise even when choosing a simple math-only
library.</p>
<p>Apache libraries are organized into Modules, typically each with one or
more .jar files. It may not be sufficient to upload only the .jar file
that seems to contain the class and methods you want to use.</p>
<p>If the library code refers to a class <strong>not contained</strong> in that .jar
file, OnBot Java’s auto-complete feature may eventually throw a ‘class
not found’ exception, causing your RC app to crash. The exception
triggered by this ‘hidden dependency’ may occur within minutes or hours,
whenever OBJ encounters the ‘missing’ class – even if your OpMode does
not directly or indirectly use that class. After that point, your RC app
will not operate. It can operate again only by manually deleting the
.jar file and its associated folder, directly on the RC device.</p>
<p>Starting over, you can find and upload the .jar file containing the
‘missing’ class. But that may expose further dependencies, requiring
more .jar files.</p>
<p>Also, be aware that the SDK already contains some common Apache
classes. OnBot Java may detect this duplication, preventing upload of
your .jar file. On the bright side, your desired methods should already
be available!</p>
<p>So, be prepared for these and other challenges that may arise. Again,
it’s helpful to communicate with the library developer where possible.</p>
</section>
<section id="advanced">
<h2>Advanced<a class="headerlink" href="#advanced" title="Permalink to this heading"></a></h2>
<p>Here are some technical details that might apply to very advanced use of
the External Libraries feature. These are not covered in this basic
tutorial.</p>
<ul class="simple">
<li><p>.aar files with assets are not supported</p></li>
<li><p>External libraries can include .so files for native code</p></li>
<li><p>External libraries can add new hardware devices with these
annotations:</p></li>
</ul>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">com</span><span class="p">.</span><span class="na">qualcomm</span><span class="p">.</span><span class="na">robotcore</span><span class="p">.</span><span class="na">hardware</span><span class="p">.</span><span class="na">configuration</span><span class="p">.</span><span class="na">annotations</span><span class="p">.</span><span class="na">AnalogSensorType</span>
<span class="n">com</span><span class="p">.</span><span class="na">qualcomm</span><span class="p">.</span><span class="na">robotcore</span><span class="p">.</span><span class="na">hardware</span><span class="p">.</span><span class="na">configuration</span><span class="p">.</span><span class="na">annotations</span><span class="p">.</span><span class="na">DeviceProperties</span>
<span class="n">com</span><span class="p">.</span><span class="na">qualcomm</span><span class="p">.</span><span class="na">robotcore</span><span class="p">.</span><span class="na">hardware</span><span class="p">.</span><span class="na">configuration</span><span class="p">.</span><span class="na">annotations</span><span class="p">.</span><span class="na">DigitalIoDeviceType</span>
<span class="n">com</span><span class="p">.</span><span class="na">qualcomm</span><span class="p">.</span><span class="na">robotcore</span><span class="p">.</span><span class="na">hardware</span><span class="p">.</span><span class="na">configuration</span><span class="p">.</span><span class="na">annotations</span><span class="p">.</span><span class="na">I2cDeviceType</span>
<span class="n">com</span><span class="p">.</span><span class="na">qualcomm</span><span class="p">.</span><span class="na">robotcore</span><span class="p">.</span><span class="na">hardware</span><span class="p">.</span><span class="na">configuration</span><span class="p">.</span><span class="na">annotations</span><span class="p">.</span><span class="na">MotorType</span>
<span class="n">com</span><span class="p">.</span><span class="na">qualcomm</span><span class="p">.</span><span class="na">robotcore</span><span class="p">.</span><span class="na">hardware</span><span class="p">.</span><span class="na">configuration</span><span class="p">.</span><span class="na">annotations</span><span class="p">.</span><span class="na">ServoType</span>
</pre></div>
</div>
<ul class="simple">
<li><p>External libraries can add new functionality to the Robot Controller
with these annotations:</p></li>
</ul>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">org</span><span class="p">.</span><span class="na">firstinspires</span><span class="p">.</span><span class="na">ftc</span><span class="p">.</span><span class="na">ftccommon</span><span class="p">.</span><span class="na">external</span><span class="p">.</span><span class="na">OnCreate</span>
<span class="n">org</span><span class="p">.</span><span class="na">firstinspires</span><span class="p">.</span><span class="na">ftc</span><span class="p">.</span><span class="na">ftccommon</span><span class="p">.</span><span class="na">external</span><span class="p">.</span><span class="na">OnCreateEventLoop</span>
<span class="n">org</span><span class="p">.</span><span class="na">firstinspires</span><span class="p">.</span><span class="na">ftc</span><span class="p">.</span><span class="na">ftccommon</span><span class="p">.</span><span class="na">external</span><span class="p">.</span><span class="na">OnCreateMenu</span>
<span class="n">org</span><span class="p">.</span><span class="na">firstinspires</span><span class="p">.</span><span class="na">ftc</span><span class="p">.</span><span class="na">ftccommon</span><span class="p">.</span><span class="na">external</span><span class="p">.</span><span class="na">OnDestroy</span>
<span class="n">org</span><span class="p">.</span><span class="na">firstinspires</span><span class="p">.</span><span class="na">ftc</span><span class="p">.</span><span class="na">ftccommon</span><span class="p">.</span><span class="na">external</span><span class="p">.</span><span class="na">WebHandlerRegistrar</span>
</pre></div>
</div>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this heading"></a></h2>
<p>Blocks and OnBot Java programmers can benefit and learn from this
new capability with external libraries.</p>
<p>You are encouraged to submit other examples and suggestions that worked
for you.</p>
<hr class="docutils" />
<p>Questions, comments and corrections to <a class="reference external" href="mailto:westsiderobotics&#37;&#52;&#48;verizon&#46;net">westsiderobotics<span>&#64;</span>verizon<span>&#46;</span>net</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../myblocks/summary/summary.html" class="btn btn-neutral float-left" title="Summary: Benefits of myBlocks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../imu/imu.html" class="btn btn-neutral float-right" title="Universal IMU Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo" style="display: flex">
  
    <div id="container" style="width: 50%; white-space:nowrap;">

      <div>
        &#169; 2025 <i>FIRST</i>
      </div>

      <div>
        <p><a href="../../../tos/tos.html">Terms of Service</a></p>
      </div>
      <div>
        <p><a class="external" href="https://www.firstinspires.org/privacy-policy">Privacy Policy</a></p>
      </div>
      <div>
        <p><a class="external" href="https://www.firstinspires.org/programs/youth-protection-program">Report an Incident</a></p>
      </div>

      <div>
      </div>
    </div>

    <div align="right" style='flex-grow:1; text-align: right'>
      Season Presenting Sponsor
      <figure>
        <img src="../../../_static/RTX.png" alt="RTX" class="invert-img" width="200" align="right"/>
      </figure>
    </div>
  </div>
<!--
  <div> 
  </div>
  -->
</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

</body>
</html>