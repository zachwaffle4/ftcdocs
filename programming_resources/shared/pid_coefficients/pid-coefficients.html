<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
 <meta name="google-site-verification" content="75RBwHq1pWFvK2E7wuVgAeq_LOOJrU4q1wRIjXqPpqg" />  <!-- Google Analytics Intentionally Disabled -->  <!-- Cookie Banner Intentionally Disabled --> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Changing PID Coefficients &mdash; FIRST Tech Challenge Docs 0.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster.custom.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster.bundle.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-shadow.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-punk.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-noir.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-light.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-borderless.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/micromodal.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/ftc-rtd.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/sphinx_rtd_theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/dark_mode_css/general.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/dark_mode_css/dark.css" />

  
    <link rel="shortcut icon" href="../../../_static/FIRSTicon_RGB_withTM.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/js/hoverxref.js"></script>
        <script src="../../../_static/js/tooltipster.bundle.min.js"></script>
        <script src="../../../_static/js/micromodal.min.js"></script>
        <script src="../../../_static/js/external-links-new-tab.js"></script>
        <script src="../../../_static/js/adjust-css-vars.js"></script>
        <script src="../../../_static/design-tabs.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="../../../_static/dark_mode_js/default_light.js"></script>
        <script src="../../../_static/dark_mode_js/theme_switcher.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Changing PIDF Coefficients" href="../pidf_coefficients/pidf-coefficients.html" />
    <link rel="prev" title="Color Spaces" href="../../../color_processing/color-spaces/color-spaces.html" /> 
</head>

<body class="wy-body-for-nav"> 


<div class="header-bar">
        <!-- Color Strip -->
        <div class="color-strip">
            <div class="fred"></div>
            <div class="forange"></div>
            <div class="fblue"></div>
        </div>
        <div class="link-bar-container">
            <div id="link-bar" class="collapse">
                <ul>          
			<li id="ftc-page-link"><a href="https://www.firstinspires.org/resource-library/ftc/game-and-season-info" target="_blank"><i>FIRST</i> Official Team Resources</a></li>
                  <li id="qa-link"><a href="https://ftc-qa.firstinspires.org/" target="_blank">Official Game Q&A</a></li>
                </ul>
            </div>
        </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            FIRST Tech Challenge Docs
              <img src="../../../_static/FIRSTTech_iconHorz_RGB_reverse.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/ftcoverview.html">About the <em>FIRST</em> Tech Challenge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gracious_professionalism/gp.html"><em>Gracious ProfessionalismÂ®</em></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../persona_pages/rookie_teams/rookie_teams.html">New Teams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../persona_pages/veteran_teams/veteran_teams.html">Returning Teams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../persona_pages/coach_admin/coach_admin.html">Coach (Administrative) Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../persona_pages/mentor_tech/mentor_tech.html">Technical Mentor Resources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Game and Season-Specific Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../game_specific_resources/blog/blog.html"><em>FIRST</em> Tech Challenge Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tech_tips/tech-tips.html"><em>FIRST</em> Tech Challenge Tech Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ai/innovation_corner/innovation-corner.html">AI Innovation Corner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../manuals/game_manuals/game_manuals.html">Competition Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../game_specific_resources/ftcqa/ftcqa.html">Game Q&amp;A System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../game_specific_resources/playing_field_resources/playing_field_resources.html">Playing Field Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../game_specific_resources/field_coordinate_system/field-coordinate-system.html">Field Coordinate System</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Development Kit (SDK)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../laptops/laptops.html">Laptop Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ftc_sdk/overview/index.html">SDK Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ftc_sdk/updating/index.html">Updating Components</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Control System Resources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../control_system_intro/The-FTC-Control-System.html">Control System Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../control_hard_compon/index.html">Hardware Component Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hardware_and_software_configuration/index.html">Hardware and Software Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hardware_and_software_configuration/self_inspect/new-self-inspect.html"><em>FIRST</em> Tech Challenge Self-Inspect</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hardware_and_software_configuration/self_inspect/self-inspect.html">Old Self-Inspect</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Programming Resources</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../index.html#programming-tutorials">Programming Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#supporting-documentation">Supporting Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#apriltag-programming">AprilTag Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#tensorflow-programming">TensorFlow Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#vision-programming">Vision Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#camera-color-processing">Camera Color Processing</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#advanced-topics">Advanced Topics</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Changing PID Coefficients</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pidf_coefficients/pidf-coefficients.html">Changing PIDF Coefficients</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_load_opmode/auto-load-opmode.html">Automatically Loading a Driver Controlled Op Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../myblocks/index.html">Custom Blocks (myBlocks)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../external_libraries_blocks/external-libraries-blocks.html">External Libraries in OnBot Java and Blocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../imu/imu.html">Universal IMU Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installing_kotlin/Installing-Kotlin.html">Using the Kotlin Programming Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../devices/huskylens/huskylens.html">HuskyLens Intro for <em>FIRST</em> Tech Challenge</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#java-tutorials">Java Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#additional-first-website-resources">Additional <em>FIRST</em> Website Resources</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Programming Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../choosing_program_lang/choosing-program-lang.html">Choosing a Programming Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../blocks/Blocks-Tutorial.html">Blocks Programming Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../onbot_java/OnBot-Java-Tutorial.html">OnBot Java Programming Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../android_studio_java/Android-Studio-Tutorial.html">Android Studio Programming Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AprilTag Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../apriltag/vision_portal/apriltag_intro/apriltag-intro.html">AprilTag Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../apriltag/vision_portal/visionportal_overview/visionportal-overview.html">VisionPortal Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../apriltag/vision_portal/visionportal_webcams/visionportal-webcams.html">Webcams for VisionPortal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../apriltag/understanding_apriltag_detection_values/understanding-apriltag-detection-values.html">Understanding AprilTag Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../apriltag/vision_portal/apriltag_localization/apriltag-localization.html">AprilTag Localization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../apriltag/opmode_test_images/opmode-test-images.html">AprilTag Test Images</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">CAD Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../cad_resources/index.html">Computer Aided Design (CAD)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Electrostatic Discharge</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../hardware_and_software_configuration/configuring/managing_esd/managing-esd.html">Managing ESD Effects</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Manufacturing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../manufacturing/index.html">Manufacturing Methods</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Team Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/faqs.html">Common Team FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sponsors/software/software.html">Team Complimentary Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sponsors/discounts/discounts.html">Team Discounts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FTC Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../booklets/index.html">Booklets</a></li>
<li class="toctree-l1"><a class="reference external" href="https://ftc-docs.firstinspires.org/projects/ftcdocs-archive/en/latest/index.html">Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ftc_docs/form/form.html">Site Feedback Form</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contrib/index.html">Contributing to FTC Docs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">FIRST Tech Challenge Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Programming Resources</a></li>
      <li class="breadcrumb-item active">Changing PID Coefficients</li>
<li class="wy-breadcrumbs-aside" style="padding-inline-start: 6px;">
</li>

      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/programming_resources/shared/pid_coefficients/pid-coefficients.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="changing-pid-coefficients">
<h1>Changing PID Coefficients<a class="headerlink" href="#changing-pid-coefficients" title="Permalink to this heading">ï</a></h1>
<p>The REV Robotics Control Hub and REV Robotics Expansion Hub allow a user to change the PID
coefficients used for closed loop motor control. The PID coefficients
are channel and mode specific.</p>
<p>The following op mode uses an extended or enhanced DcMotor class (called
âDcMotorExâ) to change the PID coefficients for the RUN_USING_ENCODER
mode for a motor named âleft_driveâ. The op mode uses the
setPIDCoefficients method of the DcMotorEx class to change the values.
This method is not available with the standard DcMotor class.</p>
<p>Note that changes made to the PID coefficients do not persist if you
power cycle the REV Robotics Control Hub or REV Robotics Expansion Hub. If you need your changes to
the PID to persist, you should consider modifying your op mode to store
state information on the Control Hub or Android phone. The Android Developer website
has a tutorial on how to save data from your app onto an Android device
<a class="reference external" href="https://developer.android.com/training/data-storage">here</a></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span><span class="w"> </span><span class="nn">org.firstinspires.ftc.teamcode</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.eventloop.opmode.Autonomous</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.eventloop.opmode.LinearOpMode</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.hardware.DcMotor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.hardware.DcMotorEx</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.hardware.PIDCoefficients</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Created by tom on 9/26/17.</span>
<span class="cm"> * This assumes that you are using a REV Robotics Control Hub or REV Robotics Expansion Hub</span>
<span class="cm"> * as your DC motor controller.  This op mode uses the extended/enhanced</span>
<span class="cm"> * PID-related functions of the DcMotorEx class.</span>
<span class="cm"> */</span>

<span class="nd">@Autonomous</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;Concept: Change PID&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Concept&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ConceptChangePID</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">LinearOpMode</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// our DC motor.</span>
<span class="w">    </span><span class="n">DcMotorEx</span><span class="w"> </span><span class="n">motorExLeft</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">NEW_P</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.5</span><span class="p">;</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">NEW_I</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.1</span><span class="p">;</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">NEW_D</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.2</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">runOpMode</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// get reference to DC motor.</span>
<span class="w">        </span><span class="c1">// since we are using the Control Hub or Expansion Hub,</span>
<span class="w">        </span><span class="c1">// cast this motor to a DcMotorEx object.</span>
<span class="w">        </span><span class="n">motorExLeft</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">DcMotorEx</span><span class="p">)</span><span class="n">hardwareMap</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">DcMotor</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;left_drive&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// wait for start command.</span>
<span class="w">        </span><span class="n">waitForStart</span><span class="p">();</span>

<span class="w">        </span><span class="c1">// get the PID coefficients for the RUN_USING_ENCODER  modes.</span>
<span class="w">        </span><span class="n">PIDCoefficients</span><span class="w"> </span><span class="n">pidOrig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">motorExLeft</span><span class="p">.</span><span class="na">getPIDCoefficients</span><span class="p">(</span><span class="n">DcMotor</span><span class="p">.</span><span class="na">RunMode</span><span class="p">.</span><span class="na">RUN_USING_ENCODER</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// change coefficients using methods included with DcMotorEx class.</span>
<span class="w">        </span><span class="n">PIDCoefficients</span><span class="w"> </span><span class="n">pidNew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PIDCoefficients</span><span class="p">(</span><span class="n">NEW_P</span><span class="p">,</span><span class="w"> </span><span class="n">NEW_I</span><span class="p">,</span><span class="w"> </span><span class="n">NEW_D</span><span class="p">);</span>
<span class="w">        </span><span class="n">motorExLeft</span><span class="p">.</span><span class="na">setPIDCoefficients</span><span class="p">(</span><span class="n">DcMotor</span><span class="p">.</span><span class="na">RunMode</span><span class="p">.</span><span class="na">RUN_USING_ENCODER</span><span class="p">,</span><span class="w"> </span><span class="n">pidNew</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// re-read coefficients and verify change.</span>
<span class="w">        </span><span class="n">PIDCoefficients</span><span class="w"> </span><span class="n">pidModified</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">motorExLeft</span><span class="p">.</span><span class="na">getPIDCoefficients</span><span class="p">(</span><span class="n">DcMotor</span><span class="p">.</span><span class="na">RunMode</span><span class="p">.</span><span class="na">RUN_USING_ENCODER</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// display info to user.</span>
<span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">opModeIsActive</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">telemetry</span><span class="p">.</span><span class="na">addData</span><span class="p">(</span><span class="s">&quot;Runtime&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%.03f&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">getRuntime</span><span class="p">());</span>
<span class="w">            </span><span class="n">telemetry</span><span class="p">.</span><span class="na">addData</span><span class="p">(</span><span class="s">&quot;P,I,D (orig)&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%.04f, %.04f, %.0f&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="n">pidOrig</span><span class="p">.</span><span class="na">p</span><span class="p">,</span><span class="w"> </span><span class="n">pidOrig</span><span class="p">.</span><span class="na">i</span><span class="p">,</span><span class="w"> </span><span class="n">pidOrig</span><span class="p">.</span><span class="na">d</span><span class="p">);</span>
<span class="w">            </span><span class="n">telemetry</span><span class="p">.</span><span class="na">addData</span><span class="p">(</span><span class="s">&quot;P,I,D (modified)&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%.04f, %.04f, %.04f&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="n">pidModified</span><span class="p">.</span><span class="na">p</span><span class="p">,</span><span class="w"> </span><span class="n">pidModified</span><span class="p">.</span><span class="na">i</span><span class="p">,</span><span class="w"> </span><span class="n">pidModified</span><span class="p">.</span><span class="na">d</span><span class="p">);</span>
<span class="w">            </span><span class="n">telemetry</span><span class="p">.</span><span class="na">update</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that the actual change of the PID coefficients occurs on the motor
controller that is controlling the selected motor. An alternate way to
adjust the PID coefficients is to use the extended/enhanced PID-related
methods of the DcMotorControllerEx class:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span><span class="w"> </span><span class="nn">org.firstinspires.ftc.teamcode</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.eventloop.opmode.Autonomous</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.eventloop.opmode.LinearOpMode</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.hardware.DcMotor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.hardware.DcMotorControllerEx</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.hardware.DcMotorEx</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.hardware.PIDCoefficients</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Created by tom on 9/26/17.</span>
<span class="cm"> * This assumes that you are using a REV Robotics Control Hub or REV Robotics Expansion Hub</span>
<span class="cm"> * as your DC motor controller. This op mode uses the extended/enhanced</span>
<span class="cm"> * PID-related functions of the DcMotorControllerEx class.</span>
<span class="cm"> */</span>

<span class="nd">@Autonomous</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;Concept: Change PID Controller&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Examples&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ConceptChangePIDController</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">LinearOpMode</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// our DC motor.</span>
<span class="w">    </span><span class="n">DcMotor</span><span class="w"> </span><span class="n">motorLeft</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">NEW_P</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.5</span><span class="p">;</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">NEW_I</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.1</span><span class="p">;</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">NEW_D</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.2</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">runOpMode</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// get reference to DC motor.</span>
<span class="w">        </span><span class="n">motorLeft</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hardwareMap</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">DcMotor</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;left_drive&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// wait for start command.</span>
<span class="w">        </span><span class="n">waitForStart</span><span class="p">();</span>

<span class="w">        </span><span class="c1">// get a reference to the motor controller and cast it as an extended functionality controller.</span>
<span class="w">        </span><span class="c1">// we assume it&#39;s a REV Robotics Control Hub or REV Robotics Expansion Hub (which supports the extended controller functions).</span>
<span class="w">        </span><span class="n">DcMotorControllerEx</span><span class="w"> </span><span class="n">motorControllerEx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">DcMotorControllerEx</span><span class="p">)</span><span class="n">motorLeft</span><span class="p">.</span><span class="na">getController</span><span class="p">();</span>

<span class="w">        </span><span class="c1">// get the port number of our configured motor.</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">motorIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">((</span><span class="n">DcMotorEx</span><span class="p">)</span><span class="n">motorLeft</span><span class="p">).</span><span class="na">getPortNumber</span><span class="p">();</span>

<span class="w">        </span><span class="c1">// get the PID coefficients for the RUN_USING_ENCODER  modes.</span>
<span class="w">        </span><span class="n">PIDCoefficients</span><span class="w"> </span><span class="n">pidOrig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">motorControllerEx</span><span class="p">.</span><span class="na">getPIDCoefficients</span><span class="p">(</span><span class="n">motorIndex</span><span class="p">,</span><span class="w"> </span><span class="n">DcMotor</span><span class="p">.</span><span class="na">RunMode</span><span class="p">.</span><span class="na">RUN_USING_ENCODER</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// change coefficients.</span>
<span class="w">        </span><span class="n">PIDCoefficients</span><span class="w"> </span><span class="n">pidNew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PIDCoefficients</span><span class="p">(</span><span class="n">NEW_P</span><span class="p">,</span><span class="w"> </span><span class="n">NEW_I</span><span class="p">,</span><span class="w"> </span><span class="n">NEW_D</span><span class="p">);</span>
<span class="w">        </span><span class="n">motorControllerEx</span><span class="p">.</span><span class="na">setPIDCoefficients</span><span class="p">(</span><span class="n">motorIndex</span><span class="p">,</span><span class="w"> </span><span class="n">DcMotor</span><span class="p">.</span><span class="na">RunMode</span><span class="p">.</span><span class="na">RUN_USING_ENCODER</span><span class="p">,</span><span class="w"> </span><span class="n">pidNew</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// re-read coefficients and verify change.</span>
<span class="w">        </span><span class="n">PIDCoefficients</span><span class="w"> </span><span class="n">pidModified</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">motorControllerEx</span><span class="p">.</span><span class="na">getPIDCoefficients</span><span class="p">(</span><span class="n">motorIndex</span><span class="p">,</span><span class="w"> </span><span class="n">DcMotor</span><span class="p">.</span><span class="na">RunMode</span><span class="p">.</span><span class="na">RUN_USING_ENCODER</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// display info to user.</span>
<span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">opModeIsActive</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">telemetry</span><span class="p">.</span><span class="na">addData</span><span class="p">(</span><span class="s">&quot;Runtime&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%.03f&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">getRuntime</span><span class="p">());</span>
<span class="w">            </span><span class="n">telemetry</span><span class="p">.</span><span class="na">addData</span><span class="p">(</span><span class="s">&quot;P,I,D (orig)&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%.04f, %.04f, %.0f&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="n">pidOrig</span><span class="p">.</span><span class="na">p</span><span class="p">,</span><span class="w"> </span><span class="n">pidOrig</span><span class="p">.</span><span class="na">i</span><span class="p">,</span><span class="w"> </span><span class="n">pidOrig</span><span class="p">.</span><span class="na">d</span><span class="p">);</span>
<span class="w">            </span><span class="n">telemetry</span><span class="p">.</span><span class="na">addData</span><span class="p">(</span><span class="s">&quot;P,I,D (modified)&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%.04f, %.04f, %.04f&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="n">pidModified</span><span class="p">.</span><span class="na">p</span><span class="p">,</span><span class="w"> </span><span class="n">pidModified</span><span class="p">.</span><span class="na">i</span><span class="p">,</span><span class="w"> </span><span class="n">pidModified</span><span class="p">.</span><span class="na">d</span><span class="p">);</span>
<span class="w">            </span><span class="n">telemetry</span><span class="p">.</span><span class="na">update</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../../color_processing/color-spaces/color-spaces.html" class="btn btn-neutral float-left" title="Color Spaces" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../pidf_coefficients/pidf-coefficients.html" class="btn btn-neutral float-right" title="Changing PIDF Coefficients" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo" style="display: flex">
  
    <div id="container" style="width: 50%; white-space:nowrap;">

      <div>
        &#169; 2025 <i>FIRST</i>
      </div>

      <div>
        <p><a href="../../../tos/tos.html">Terms of Service</a></p>
      </div>
      <div>
        <p><a class="external" href="https://www.firstinspires.org/privacy-policy">Privacy Policy</a></p>
      </div>
      <div>
        <p><a class="external" href="https://www.firstinspires.org/programs/youth-protection-program">Report an Incident</a></p>
      </div>

      <div>
      </div>
    </div>

    <div align="right" style='flex-grow:1; text-align: right'>
      Season Presenting Sponsor
      <figure>
        <img src="../../../_static/RTX.png" alt="RTX" class="invert-img" width="200" align="right"/>
      </figure>
    </div>
  </div>
<!--
  <div> 
  </div>
  -->
</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

</body>
</html>