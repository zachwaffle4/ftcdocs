<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
 <meta name="google-site-verification" content="75RBwHq1pWFvK2E7wuVgAeq_LOOJrU4q1wRIjXqPpqg" />  <!-- Google Analytics Intentionally Disabled -->  <!-- Cookie Banner Intentionally Disabled --> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Understanding AprilTag Detection Values &mdash; FIRST Tech Challenge Docs 0.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster.custom.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster.bundle.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-shadow.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-punk.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-noir.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-light.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-borderless.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/micromodal.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/ftc-rtd.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/sphinx_rtd_theme.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/dark_mode_css/general.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/dark_mode_css/dark.css" />

  
    <link rel="shortcut icon" href="../../_static/FIRSTicon_RGB_withTM.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/js/hoverxref.js"></script>
        <script src="../../_static/js/tooltipster.bundle.min.js"></script>
        <script src="../../_static/js/micromodal.min.js"></script>
        <script src="../../_static/js/external-links-new-tab.js"></script>
        <script src="../../_static/js/adjust-css-vars.js"></script>
        <script src="../../_static/design-tabs.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="../../_static/dark_mode_js/default_light.js"></script>
        <script src="../../_static/dark_mode_js/theme_switcher.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="AprilTag Localization" href="../vision_portal/apriltag_localization/apriltag-localization.html" />
    <link rel="prev" title="Webcams for Vision Portal" href="../vision_portal/visionportal_webcams/visionportal-webcams.html" /> 
</head>

<body class="wy-body-for-nav"> 


<div class="header-bar">
        <!-- Color Strip -->
        <div class="color-strip">
            <div class="fred"></div>
            <div class="forange"></div>
            <div class="fblue"></div>
        </div>
        <div class="link-bar-container">
            <div id="link-bar" class="collapse">
                <ul>          
			<li id="ftc-page-link"><a href="https://www.firstinspires.org/resource-library/ftc/game-and-season-info" target="_blank"><i>FIRST</i> Official Team Resources</a></li>
                  <li id="qa-link"><a href="https://ftc-qa.firstinspires.org/" target="_blank">Official Game Q&A</a></li>
                </ul>
            </div>
        </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            FIRST Tech Challenge Docs
              <img src="../../_static/FIRSTTech_iconHorz_RGB_reverse.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview/ftcoverview.html">About the <em>FIRST</em> Tech Challenge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gracious_professionalism/gp.html"><em>Gracious Professionalism®</em></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../persona_pages/rookie_teams/rookie_teams.html">New Teams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../persona_pages/veteran_teams/veteran_teams.html">Returning Teams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../persona_pages/coach_admin/coach_admin.html">Coach (Administrative) Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../persona_pages/mentor_tech/mentor_tech.html">Technical Mentor Resources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Game and Season-Specific Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../game_specific_resources/blog/blog.html"><em>FIRST</em> Tech Challenge Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tech_tips/tech-tips.html"><em>FIRST</em> Tech Challenge Tech Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ai/innovation_corner/innovation-corner.html">AI Innovation Corner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../manuals/game_manuals/game_manuals.html">Competition Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../game_specific_resources/ftcqa/ftcqa.html">Game Q&amp;A System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../game_specific_resources/playing_field_resources/playing_field_resources.html">Playing Field Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../game_specific_resources/field_coordinate_system/field-coordinate-system.html">Field Coordinate System</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Development Kit (SDK)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../programming_resources/laptops/laptops.html">Laptop Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ftc_sdk/overview/index.html">SDK Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ftc_sdk/updating/index.html">Updating Components</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Control System Resources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../programming_resources/shared/control_system_intro/The-FTC-Control-System.html">Control System Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../control_hard_compon/index.html">Hardware Component Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware_and_software_configuration/index.html">Hardware and Software Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware_and_software_configuration/self_inspect/new-self-inspect.html"><em>FIRST</em> Tech Challenge Self-Inspect</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware_and_software_configuration/self_inspect/self-inspect.html">Old Self-Inspect</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../programming_resources/index.html">Programming Resources</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../programming_resources/index.html#programming-tutorials">Programming Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming_resources/index.html#supporting-documentation">Supporting Documentation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../programming_resources/index.html#apriltag-programming">AprilTag Programming</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../vision_portal/apriltag_intro/apriltag-intro.html">AprilTag Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vision_portal/visionportal_overview/visionportal-overview.html">VisionPortal Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vision_portal/visionportal_webcams/visionportal-webcams.html">Webcams for VisionPortal</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Understanding AprilTag Values</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#investigating-some-real-data">Investigating some real data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ways-to-use-this-data">Ways to use this data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vision_portal/apriltag_localization/apriltag-localization.html">AprilTag Localization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../opmode_test_images/opmode-test-images.html">AprilTag Test Images</a></li>
<li class="toctree-l3"><a class="reference internal" href="../apriltag_tips/decode_apriltag/decode-apriltag.html">AprilTag Challenges in DECODE presented by RTX</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../programming_resources/index.html#tensorflow-programming">TensorFlow Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming_resources/index.html#vision-programming">Vision Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming_resources/index.html#camera-color-processing">Camera Color Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming_resources/index.html#advanced-topics">Advanced Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming_resources/index.html#java-tutorials">Java Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming_resources/index.html#additional-first-website-resources">Additional <em>FIRST</em> Website Resources</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Programming Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../programming_resources/shared/choosing_program_lang/choosing-program-lang.html">Choosing a Programming Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programming_resources/blocks/Blocks-Tutorial.html">Blocks Programming Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programming_resources/onbot_java/OnBot-Java-Tutorial.html">OnBot Java Programming Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programming_resources/android_studio_java/Android-Studio-Tutorial.html">Android Studio Programming Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AprilTag Resources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../vision_portal/apriltag_intro/apriltag-intro.html">AprilTag Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vision_portal/visionportal_overview/visionportal-overview.html">VisionPortal Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vision_portal/visionportal_webcams/visionportal-webcams.html">Webcams for VisionPortal</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Understanding AprilTag Values</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#investigating-some-real-data">Investigating some real data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ways-to-use-this-data">Ways to use this data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../vision_portal/apriltag_localization/apriltag-localization.html">AprilTag Localization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../opmode_test_images/opmode-test-images.html">AprilTag Test Images</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">CAD Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cad_resources/index.html">Computer Aided Design (CAD)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Electrostatic Discharge</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../hardware_and_software_configuration/configuring/managing_esd/managing-esd.html">Managing ESD Effects</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Manufacturing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../manufacturing/index.html">Manufacturing Methods</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Team Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../faq/faqs.html">Common Team FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sponsors/software/software.html">Team Complimentary Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sponsors/discounts/discounts.html">Team Discounts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FTC Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../booklets/index.html">Booklets</a></li>
<li class="toctree-l1"><a class="reference external" href="https://ftc-docs.firstinspires.org/projects/ftcdocs-archive/en/latest/index.html">Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ftc_docs/form/form.html">Site Feedback Form</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contrib/index.html">Contributing to FTC Docs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">FIRST Tech Challenge Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../programming_resources/index.html">Programming Resources</a></li>
      <li class="breadcrumb-item active">Understanding AprilTag Detection Values</li>
<li class="wy-breadcrumbs-aside" style="padding-inline-start: 6px;">
</li>

      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/apriltag/understanding_apriltag_detection_values/understanding-apriltag-detection-values.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="understanding-apriltag-detection-values">
<h1>Understanding AprilTag Detection Values<a class="headerlink" href="#understanding-apriltag-detection-values" title="Permalink to this heading"></a></h1>
<p><em>Last Updated: 7/05/2023</em></p>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading"></a></h2>
<p>When an AprilTag is detected by the new SDK vision processing system, the core
code returns a collection of raw data that is often not easily interpreted.
However, the data can be further transformed into a familiar frame of reference
to make it more easily utilized.</p>
<p>In the <em>FIRST</em> Tech Challenge SDK, the AprilTag API will present the Team
OpMode with a collection of translation and rotation values, called <em>ftcPose</em>,
that represent the Tag’s position in 3D space.</p>
<p>To understand how to interpret these values, it’s easier to consider a simpler
2D scenario where the vertical component is ignored. This is what is described
below.</p>
<p><strong>Figure 1</strong> below represents one possible 2D scenario.</p>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../../_images/figure1.jpg"><img alt="Figure 1" src="../../_images/figure1.jpg" style="width: 40%;" /></a>
<figcaption>
<p><span class="caption-text">Figure 1: Top view of AprilTag scenario</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>This diagram looks down on the Camera and AprilTag from above. The camera’s
“forward” direction is identified by a dashed line drawn straight out from the
camera.</p>
<p>The AprilTag image is shown in the upper left of the figure. The tag is located
100 units forward of the camera and 36.4 units to the left (measured at right
angles to the forward view).</p>
<p>The AprilTag is also rotated 5 degrees counterclockwise from a normal “face on”
orientation.</p>
<p>Now that we have a clear understanding of one possible detection scenario, we
can look at the meaning of the various values returned as <em>ftcPose</em> by the SDK.</p>
<p><strong>Figure 2</strong> shows the measured values associated with the camera/target
scenario shown in Figure 1.</p>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="../../_images/figure2.jpg"><img alt="Figure 2" src="../../_images/figure2.jpg" style="width: 40%;" /></a>
<figcaption>
<p><span class="caption-text">Figure 2: Measured values associated with scenario</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Since this is a simple 2D diagram, the vertical “Z” (up) axis is being
ignored, so it is not shown here.</p>
<p>The green X axis value represents the sideways offset to the tag. Note
that this value is negative (to the left of the camera center).</p>
<p>The red Y axis value represents the forward distance to the Tag.</p>
<p>The cyan Yaw value represents the rotation of the tag around the Z axis.
A Counter-Clockwise rotation is considered positive. Note that a Yaw
value of zero means that the tag image is parallel to the face of the
camera.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Fun Fact: If the camera is pointing forward, the X, Y &amp; Z axes are consistent
with the Robot Coordinate system.</p>
</div>
<p>Three additional parameters are derived from the X and Y axis values,
these are <em>Range</em> (which is the direct distance to the center of the
target), <em>Bearing</em> (which is how many degrees the camera must turn to
point directly at the target) and <em>Elevation</em> (which is how many degrees
the camera must tilt UP to center on the tag). Note that Target Bearing
has the same positive counterclockwise orientation.</p>
</section>
<section id="investigating-some-real-data">
<h2>Investigating some real data<a class="headerlink" href="#investigating-some-real-data" title="Permalink to this heading"></a></h2>
<p>To illustrate this process, consider some real-world tags. The
data that follows is from a pair of tags printed on a card. The
left-most tags has an identical setup as described above. In Figure 3
the protractor origin is positioned directly in front of the camera, at
a distance of 25 inches. Both tags are to the left of the camera
centerline, and both are rotated +5 degrees. The left tag is 6.6” from
the centerline, and the right tag is 1.5” from the centerline. The
camera is located 6” inches above the center of the targets, looking out
horizontally (parallel to the ground).</p>
<figure class="align-center" id="id3">
<a class="reference internal image-reference" href="../../_images/apriltag_setup.jpg"><img alt="Tag Setup" src="../../_images/apriltag_setup.jpg" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-text">Figure 3: Sample Tag setup for testing</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The AprilTag video preview image from the Camera Stream preview is shown below.
The left tag has an ID of 0 and the right tag has an ID of 1. This video is
being captured by a Logitech C920 Pro HD webcam, running at 648x480 resolution.
In this mode the camera has Field-Of-View (FOV) of 60 degrees. The physical
tags are 3.4” square.</p>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="../../_images/two_tags.jpg"><img alt="preview image" src="../../_images/two_tags.jpg" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-text">Figure 4: Camera Preview showing two detected AprilTags</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Notice that both tags are in the bottom-left corner of the
image. The center of the image corresponds to the location the camera is
pointed at, which is centered on the protractor and directly above the
top of the tags.</p>
<p>Based on this setup, let’s review the data returned by the
“ConceptAprilTag.java” sample OpMode.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Since the creation of this document, the tags used in the
ConceptAprilTag.java sample have changed. Therefore, in order to reproduce
this example the appropriate tags will need to be used instead of Tag0 and
Tag1.</p>
</div>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="../../_images/apriltag_telemetry.jpg"><img alt="telemetry" src="../../_images/apriltag_telemetry.jpg" style="width: 50%;" /></a>
<figcaption>
<p><span class="caption-text">Figure 5: Values displayed by AprilTag OpMode</span><a class="headerlink" href="#id5" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The values for the two AprilTags are listed as “ID0 Nemo”, and “ID1
Jonah”. These are the names assigned when adding the tags to the Tag
Library.</p>
<p>The OpMode displays values that correspond to those parameters shown in
<strong>Figure 2</strong>. The XYZ line shows the three axes translation values (X, Y
&amp; Z) in inches. The PRY line shows the corresponding rotations (Pitch,
Roll &amp; Yaw) around those axes, in degrees. The RBE line shows the target
Range (in inches), Bearing, and Elevation (in degrees). The angle of
Elevation results from the height difference between the camera and the
Tag.</p>
<p><em>Several items to observe:</em></p>
<ul class="simple">
<li><p>Both Y values are about 25”, but the Y value for Tag 1 is slightly
larger because it is behind the protractor base line.</p></li>
<li><p>The X values for Tag 0 and 1 correspond to the offset distances
described earlier (-6.6” and -1.5”)</p></li>
<li><p>Both tags show a Yaw of approximately 5 Deg, although this can vary
1-2 degrees depending on other orientation factors.</p></li>
<li><p>The Range to both targets are almost equal but the Bearing of Tag 0
is much greater due to its displacement to the left.</p></li>
<li><p>Both targets show the same negative Z value of -5.7, which is
consistent with them being centered about 6” below the height of the
camera.</p></li>
<li><p>Each tag also has an “Elevation” of about -12.6 degrees, which is a
downward viewing angle to the center of each tag.</p></li>
</ul>
</section>
<section id="ways-to-use-this-data">
<h2>Ways to use this data<a class="headerlink" href="#ways-to-use-this-data" title="Permalink to this heading"></a></h2>
<p>There are several ways the AprilTag position data can be used, but here
are two basic ways.</p>
<ol class="arabic">
<li><p>Pointing towards a target (Tank Drive).</p>
<p>If an AprilTag is being used to mark the location of a target that
you need to shoot towards, then the two main properties of interest
are Tag Range and Tag Bearing. The Tag Bearing is an indication of
how many degrees you would need to turn to point directly at the tag,
and the Tag Range is an indication of how far you would need to
shoot. Even with a simple differential (tank) drive, these two
parameters would enable you to turn towards the target and drive to
the correct range (or adjust your shooting power based on the range).</p>
<p>A simple proportional controller could take the Tag Bearing, multiply
it by a suitable gain and then use it in place of the turning
joystick to turn the robot towards the target. Likewise, you could
subtract the desired shooting range from the current Tag Range and
use the result to control the robot’s forward speed.</p>
<p>Note that this approach does not guarantee that you are squared up to
the front of the target, merely that you are pointing towards it. To
get squarely aligned, you need to consider the Yaw angle as shown in
the next approach.</p>
<p>See SDK Sample: RobotAutoDriveToAprilTagTank.java for more info.</p>
</li>
<li><p>Approaching a target squarely (Omni Drive).</p>
<p>If an AprilTag is being used to mark the location of something that
must be approached squarely from the front, then it’s important to
consider the Tag Yaw value. This is a direct indication of how far
off (in degrees) the camera is from the tag image’s centerline. This
is related to, but not the same as the Tag Bearing. So, all three
parameters (Range, Bearing &amp; Yaw) must be used to approach the target
and end up directly in front of it.</p>
<p>Reaching a certain distance directly in front of the target can be
easily performed by a robot with a holonomic (Omnidirectional) drive,
because strafing can be used for direct sideways motion. A
three-pronged approach can be used. 1) The Target bearing can be used
to turn the robot towards the target (as described above). 2) The
Target Yaw can be used to strafe sideways, thereby rotating around
the target to get directly in front of it. 3) The target range can be
used to drive forward or backward to obtain the correct standoff
distance.</p>
<p>Each of the three axis motions could be controlled by a simple
proportional control loop, where turning towards the tag is given the
highest gain (priority), followed by strafing sideways, followed by
approaching the tag.</p>
<p>See SDK Sample: RobotAutoDriveToAprilTagOmni.java for more info.</p>
</li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../vision_portal/visionportal_webcams/visionportal-webcams.html" class="btn btn-neutral float-left" title="Webcams for Vision Portal" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../vision_portal/apriltag_localization/apriltag-localization.html" class="btn btn-neutral float-right" title="AprilTag Localization" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo" style="display: flex">
  
    <div id="container" style="width: 50%; white-space:nowrap;">

      <div>
        &#169; 2025 <i>FIRST</i>
      </div>

      <div>
        <p><a href="../../tos/tos.html">Terms of Service</a></p>
      </div>
      <div>
        <p><a class="external" href="https://www.firstinspires.org/privacy-policy">Privacy Policy</a></p>
      </div>
      <div>
        <p><a class="external" href="https://www.firstinspires.org/programs/youth-protection-program">Report an Incident</a></p>
      </div>

      <div>
      </div>
    </div>

    <div align="right" style='flex-grow:1; text-align: right'>
      Season Presenting Sponsor
      <figure>
        <img src="../../_static/RTX.png" alt="RTX" class="invert-img" width="200" align="right"/>
      </figure>
    </div>
  </div>
<!--
  <div> 
  </div>
  -->
</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

</body>
</html>