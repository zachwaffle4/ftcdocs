<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
 <meta name="google-site-verification" content="75RBwHq1pWFvK2E7wuVgAeq_LOOJrU4q1wRIjXqPpqg" />  <!-- Google Analytics Intentionally Disabled -->  <!-- Cookie Banner Intentionally Disabled --> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VisionPortal Camera Controls &mdash; FIRST Tech Challenge Docs 0.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster.custom.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster.bundle.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-shadow.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-punk.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-noir.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-light.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-borderless.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/micromodal.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/ftc-rtd.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/sphinx_rtd_theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/dark_mode_css/general.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/dark_mode_css/dark.css" />

  
    <link rel="shortcut icon" href="../../../_static/FIRSTicon_RGB_withTM.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/js/hoverxref.js"></script>
        <script src="../../../_static/js/tooltipster.bundle.min.js"></script>
        <script src="../../../_static/js/micromodal.min.js"></script>
        <script src="../../../_static/js/external-links-new-tab.js"></script>
        <script src="../../../_static/js/adjust-css-vars.js"></script>
        <script src="../../../_static/design-tabs.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="../../../_static/dark_mode_js/default_light.js"></script>
        <script src="../../../_static/dark_mode_js/theme_switcher.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Vision MultiPortal" href="../vision_multiportal/vision-multiportal.html" />
    <link rel="prev" title="VisionPortal CPU and Bandwidth" href="../visionportal_cpu_and_bandwidth/visionportal-cpu-and-bandwidth.html" /> 
</head>

<body class="wy-body-for-nav"> 


<div class="header-bar">
        <!-- Color Strip -->
        <div class="color-strip">
            <div class="fred"></div>
            <div class="forange"></div>
            <div class="fblue"></div>
        </div>
        <div class="link-bar-container">
            <div id="link-bar" class="collapse">
                <ul>          
			<li id="ftc-page-link"><a href="https://www.firstinspires.org/resource-library/ftc/game-and-season-info" target="_blank"><i>FIRST</i> Official Team Resources</a></li>
                  <li id="qa-link"><a href="https://ftc-qa.firstinspires.org/" target="_blank">Official Game Q&A</a></li>
                </ul>
            </div>
        </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            FIRST Tech Challenge Docs
              <img src="../../../_static/FIRSTTech_iconHorz_RGB_reverse.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/ftcoverview.html">About the <em>FIRST</em> Tech Challenge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gracious_professionalism/gp.html"><em>Gracious Professionalism®</em></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../persona_pages/rookie_teams/rookie_teams.html">New Teams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../persona_pages/veteran_teams/veteran_teams.html">Returning Teams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../persona_pages/coach_admin/coach_admin.html">Coach (Administrative) Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../persona_pages/mentor_tech/mentor_tech.html">Technical Mentor Resources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Game and Season-Specific Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../game_specific_resources/blog/blog.html"><em>FIRST</em> Tech Challenge Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tech_tips/tech-tips.html"><em>FIRST</em> Tech Challenge Tech Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ai/innovation_corner/innovation-corner.html">AI Innovation Corner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../manuals/game_manuals/game_manuals.html">Competition Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../game_specific_resources/ftcqa/ftcqa.html">Game Q&amp;A System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../game_specific_resources/playing_field_resources/playing_field_resources.html">Playing Field Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../game_specific_resources/field_coordinate_system/field-coordinate-system.html">Field Coordinate System</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Development Kit (SDK)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../programming_resources/laptops/laptops.html">Laptop Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ftc_sdk/overview/index.html">SDK Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ftc_sdk/updating/index.html">Updating Components</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Control System Resources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../programming_resources/shared/control_system_intro/The-FTC-Control-System.html">Control System Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../control_hard_compon/index.html">Hardware Component Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hardware_and_software_configuration/index.html">Hardware and Software Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hardware_and_software_configuration/self_inspect/new-self-inspect.html"><em>FIRST</em> Tech Challenge Self-Inspect</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hardware_and_software_configuration/self_inspect/self-inspect.html">Old Self-Inspect</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../programming_resources/index.html">Programming Resources</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../programming_resources/index.html#programming-tutorials">Programming Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programming_resources/index.html#supporting-documentation">Supporting Documentation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../programming_resources/index.html#apriltag-programming">AprilTag Programming</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../apriltag_intro/apriltag-intro.html">AprilTag Introduction</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../visionportal_overview/visionportal-overview.html">VisionPortal Overview</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../apriltag_intro/apriltag-intro.html">AprilTag Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../vision_processor_init/vision-processor-init.html">Vision Processor Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../visionportal_init/visionportal-init.html">VisionPortal Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../visionportal_previews/visionportal-previews.html">VisionPortal Previews</a></li>
<li class="toctree-l4"><a class="reference internal" href="../apriltag_id_code/apriltag-id-code.html">AprilTag ID Codes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../apriltag_metadata/apriltag-metadata.html">AprilTag Metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="../apriltag_reference_frame/apriltag-reference-frame.html">AprilTag Reference Frame</a></li>
<li class="toctree-l4"><a class="reference internal" href="../apriltag_camera_calibration/apriltag-camera-calibration.html">AprilTag Camera Calibration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../apriltag_pose/apriltag-pose.html">AprilTag Pose</a></li>
<li class="toctree-l4"><a class="reference internal" href="../apriltag_library/apriltag-library.html">AprilTag Library</a></li>
<li class="toctree-l4"><a class="reference internal" href="../visionportal_cpu_and_bandwidth/visionportal-cpu-and-bandwidth.html">VisionPortal CPU and Bandwidth</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">VisionPortal Camera Controls</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#webcam-states">Webcam States</a></li>
<li class="toctree-l5"><a class="reference internal" href="#notes-and-guidelines-for-enums">Notes and Guidelines for Enums</a></li>
<li class="toctree-l5"><a class="reference internal" href="#observing-controls">Observing Controls</a></li>
<li class="toctree-l5"><a class="reference internal" href="#control-ranges">Control Ranges</a></li>
<li class="toctree-l5"><a class="reference internal" href="#setter-blocks">Setter Blocks</a></li>
<li class="toctree-l5"><a class="reference internal" href="#gain-and-exposure">Gain and Exposure</a></li>
<li class="toctree-l5"><a class="reference internal" href="#shared-blocks">Shared Blocks</a></li>
<li class="toctree-l5"><a class="reference internal" href="#pan-tilt-holder">Pan-Tilt Holder</a></li>
<li class="toctree-l5"><a class="reference internal" href="#gain-and-exposure-test-opmode">Gain and Exposure Test OpMode</a></li>
<li class="toctree-l5"><a class="reference internal" href="#other-test-opmodes">Other Test OpModes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../vision_multiportal/vision-multiportal.html">Vision Multiportal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../apriltag_advanced_use/apriltag-advanced-use.html">AprilTag Advanced Use</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../visionportal_webcams/visionportal-webcams.html">Webcams for VisionPortal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../understanding_apriltag_detection_values/understanding-apriltag-detection-values.html">Understanding AprilTag Values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../apriltag_localization/apriltag-localization.html">AprilTag Localization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../opmode_test_images/opmode-test-images.html">AprilTag Test Images</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apriltag_tips/decode_apriltag/decode-apriltag.html">AprilTag Challenges in DECODE presented by RTX</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../programming_resources/index.html#tensorflow-programming">TensorFlow Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programming_resources/index.html#vision-programming">Vision Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programming_resources/index.html#camera-color-processing">Camera Color Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programming_resources/index.html#advanced-topics">Advanced Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programming_resources/index.html#java-tutorials">Java Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programming_resources/index.html#additional-first-website-resources">Additional <em>FIRST</em> Website Resources</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Programming Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../programming_resources/shared/choosing_program_lang/choosing-program-lang.html">Choosing a Programming Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../programming_resources/blocks/Blocks-Tutorial.html">Blocks Programming Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../programming_resources/onbot_java/OnBot-Java-Tutorial.html">OnBot Java Programming Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../programming_resources/android_studio_java/Android-Studio-Tutorial.html">Android Studio Programming Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AprilTag Resources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../apriltag_intro/apriltag-intro.html">AprilTag Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../visionportal_overview/visionportal-overview.html">VisionPortal Overview</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../apriltag_intro/apriltag-intro.html">AprilTag Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vision_processor_init/vision-processor-init.html">Vision Processor Initialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visionportal_init/visionportal-init.html">VisionPortal Initialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visionportal_previews/visionportal-previews.html">VisionPortal Previews</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apriltag_id_code/apriltag-id-code.html">AprilTag ID Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apriltag_metadata/apriltag-metadata.html">AprilTag Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apriltag_reference_frame/apriltag-reference-frame.html">AprilTag Reference Frame</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apriltag_camera_calibration/apriltag-camera-calibration.html">AprilTag Camera Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apriltag_pose/apriltag-pose.html">AprilTag Pose</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apriltag_library/apriltag-library.html">AprilTag Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visionportal_cpu_and_bandwidth/visionportal-cpu-and-bandwidth.html">VisionPortal CPU and Bandwidth</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">VisionPortal Camera Controls</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#webcam-states">Webcam States</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notes-and-guidelines-for-enums">Notes and Guidelines for Enums</a></li>
<li class="toctree-l3"><a class="reference internal" href="#observing-controls">Observing Controls</a></li>
<li class="toctree-l3"><a class="reference internal" href="#control-ranges">Control Ranges</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setter-blocks">Setter Blocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gain-and-exposure">Gain and Exposure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shared-blocks">Shared Blocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pan-tilt-holder">Pan-Tilt Holder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gain-and-exposure-test-opmode">Gain and Exposure Test OpMode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-test-opmodes">Other Test OpModes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vision_multiportal/vision-multiportal.html">Vision Multiportal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apriltag_advanced_use/apriltag-advanced-use.html">AprilTag Advanced Use</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../visionportal_webcams/visionportal-webcams.html">Webcams for VisionPortal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../understanding_apriltag_detection_values/understanding-apriltag-detection-values.html">Understanding AprilTag Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apriltag_localization/apriltag-localization.html">AprilTag Localization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../opmode_test_images/opmode-test-images.html">AprilTag Test Images</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">CAD Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../cad_resources/index.html">Computer Aided Design (CAD)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Electrostatic Discharge</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../hardware_and_software_configuration/configuring/managing_esd/managing-esd.html">Managing ESD Effects</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Manufacturing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../manufacturing/index.html">Manufacturing Methods</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Team Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/faqs.html">Common Team FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sponsors/software/software.html">Team Complimentary Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sponsors/discounts/discounts.html">Team Discounts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FTC Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../booklets/index.html">Booklets</a></li>
<li class="toctree-l1"><a class="reference external" href="https://ftc-docs.firstinspires.org/projects/ftcdocs-archive/en/latest/index.html">Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ftc_docs/form/form.html">Site Feedback Form</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contrib/index.html">Contributing to FTC Docs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">FIRST Tech Challenge Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../programming_resources/index.html">Programming Resources</a></li>
          <li class="breadcrumb-item"><a href="../visionportal_overview/visionportal-overview.html">VisionPortal Overview</a></li>
      <li class="breadcrumb-item active">VisionPortal Camera Controls</li>
<li class="wy-breadcrumbs-aside" style="padding-inline-start: 6px;">
</li>

      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/apriltag/vision_portal/visionportal_camera_controls/visionportal-camera-controls.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="visionportal-camera-controls">
<h1>VisionPortal Camera Controls<a class="headerlink" href="#visionportal-camera-controls" title="Permalink to this heading"></a></h1>
<p>Clearer camera images can improve AprilTag (and TFOD) vision processing.  The
SDK offers powerful <strong>webcam controls</strong> (Exposure, Gain, Focus, and more),
now available in Blocks! These controls can be applied under various lighting
conditions.</p>
<p>The SDK documentation already provides a
<a class="reference internal" href="../../../programming_resources/vision/webcam_controls/index.html#webcam-controls"><span class="std std-ref">Camera Controls tutorial</span></a>.
You are encouraged to learn more there.</p>
<p>Note that Exposure and Gain are adjusted together. The new SDK offers
Java Sample OpMode <code class="docutils literal notranslate"><span class="pre">ConceptAprilTagOptimizeExposure.java</span></code>, which can
be constructed also in FTC Blocks.</p>
<section id="webcam-states">
<h2>Webcam States<a class="headerlink" href="#webcam-states" title="Permalink to this heading"></a></h2>
<p>Camera Controls cannot be used until the webcam has reached the state
<code class="docutils literal notranslate"><span class="pre">CAMERA_DEVICE_READY</span></code>.</p>
<p>Under the new FTC VisionPortal these camera states are now available:</p>
<ul class="simple">
<li><p>OPENING_CAMERA_DEVICE</p></li>
<li><p>CAMERA_DEVICE_READY</p></li>
<li><p>STARTING_STREAM</p></li>
<li><p>STREAMING</p></li>
<li><p>STOPPING_STREAM</p></li>
<li><p>CLOSING_CAMERA_DEVICE</p></li>
<li><p>CAMERA_DEVICE_CLOSED</p></li>
<li><p>ERROR</p></li>
</ul>
<p>These <strong>enums</strong> are listed in sequence, as if opening a camera (fresh
build), then starting or resuming streaming, then stopping streaming,
then closing the camera.</p>
</section>
<section id="notes-and-guidelines-for-enums">
<h2>Notes and Guidelines for Enums<a class="headerlink" href="#notes-and-guidelines-for-enums" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">OPENING_CAMERA_DEVICE</span></code> - no vision processing is happening</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CAMERA_DEVICE_READY</span></code> - Camera is open. No processing is happening,
including background processing from EOCV (i.e. pulling frames and
performing color conversion). Ready to call <code class="docutils literal notranslate"><span class="pre">resumeStreaming()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STARTING_STREAM</span></code> - no processing is happening</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STREAMING</span></code> - Frames are available for processing (AprilTag and/or
TFOD recognitions) and preview (RC preview and DS Camera Stream)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STOPPING_STREAM</span></code> - processing may or may not be happening. This
status is followed by <code class="docutils literal notranslate"><span class="pre">CAMERA_DEVICE_READY</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CLOSING_CAMERA_DEVICE</span></code> - no processing is happening</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CAMERA_DEVICE_CLOSED</span></code> - nothing is running, USB comms are closed.
Once closed, don’t open camera again during this OpMode.</p></li>
</ul>
</section>
<section id="observing-controls">
<h2>Observing Controls<a class="headerlink" href="#observing-controls" title="Permalink to this heading"></a></h2>
<p>Teams wanting to optimize AprilTag or TFOD recognitions with Camera Controls
should consider using <code class="docutils literal notranslate"><span class="pre">scrcpy</span></code> here:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/Genymobile/scrcpy">https://github.com/Genymobile/scrcpy</a></p></li>
</ul>
<p>or an HDMI monitor. Optimizing via DS Camera Stream will be less effective and
less efficient.</p>
<p>DS Camera Stream shows the same images as <code class="docutils literal notranslate"><span class="pre">scrcpy</span></code>, namely with Exposure and
Gain affecting recognitions. But the image is a snapshot only, and adjustments
cannot be made in real time, with gamepads disabled during Camera Stream.</p>
</section>
<section id="control-ranges">
<h2>Control Ranges<a class="headerlink" href="#control-ranges" title="Permalink to this heading"></a></h2>
<p>Each webcam model has its own level of support for Camera Controls.</p>
<p>The Logitech C920 supports all the control features offered by the
SDK; many webcams don’t. More info is at
<a class="reference internal" href="../../../programming_resources/vision/webcam_controls/index.html#webcam-controls"><span class="std std-ref">ftc-docs Webcam Controls</span></a>.</p>
<p>For example, here are control ranges reported by the Logitech C920:</p>
<ul class="simple">
<li><p>Exposure 0 to 204 ms</p></li>
<li><p>Gain 0 to 255</p></li>
<li><p>White Balance 2000 to 6500 (often defaults to 2000)</p></li>
<li><p>Focus 0 to 250, usual default 0 (infinite)</p></li>
<li><p>Pan and Tilt +/- 36,000, default (0,0)</p></li>
<li><p>Zoom 100 to 500, but no effect after about 250</p></li>
</ul>
<p>Note that Camera Control Zoom affects both AprilTag and TFOD, while TFOD Zoom
affects only TFOD recognitions.</p>
<p>Camera Control zoom (PTZ) will affect the camera calibration, thus
significantly affecting the <strong>pose estimation</strong>. TFOD zoom will not affect
pose.</p>
<p>Also:</p>
<ul class="simple">
<li><p>AprilTag detections are not affected by camera or object orientation</p></li>
<li><p>TFOD recognitions are affected by camera or object orientation</p></li>
</ul>
</section>
<section id="setter-blocks">
<h2>Setter Blocks<a class="headerlink" href="#setter-blocks" title="Permalink to this heading"></a></h2>
<p>The <strong>setter Blocks</strong> under Webcam Controls can now change/toggle, when
choosing “use return value” or “ignore return value” from each Block’s
context (right-click) menu.</p>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../../../_images/010-Blocks-setters.png"><img alt="Blocks Setters" src="../../../_images/010-Blocks-setters.png" style="width: 75%;" /></a>
<figcaption>
<p><span class="caption-text">Examples of Setter Blocks with togglable return values</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>In either form, the setting task <strong>is performed</strong>.</p>
<p>The “non-return” version comment is:</p>
<blockquote>
<div><p><em>Set the gain. Right-click, “use return value” for a Boolean
indicating success or completion.</em></p>
</div></blockquote>
<p>The “plug” version comment is:</p>
<blockquote>
<div><p><em>Set the gain, and return a Boolean indicating success or completion.
Or right-click, “ignore return value”.</em></p>
</div></blockquote>
</section>
<section id="gain-and-exposure">
<h2>Gain and Exposure<a class="headerlink" href="#gain-and-exposure" title="Permalink to this heading"></a></h2>
<p>Autoexposure mode manages both gain and exposure.</p>
<p>Gain can be adjusted only if ExposureControl Mode is set to MANUAL (not
the default).</p>
<p>The old <cite>Camera Controls tutorial &lt;programming_resources/vision/webcam_controls/index:webcam controls&gt;</cite>
says:</p>
<blockquote>
<div><p><em>Gain can be managed in coordination with exposure.</em></p>
</div></blockquote>
<p>Actually, in the SDK, Gain <strong>must</strong> be managed with Exposure.</p>
</section>
<section id="shared-blocks">
<h2>Shared Blocks<a class="headerlink" href="#shared-blocks" title="Permalink to this heading"></a></h2>
<p>FTC Blocks offers an arrangement where 3 similar Blocks use a pull-down
list to share a common structure (and common comment):</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../../_images/020-Blocks-dropdown.png"><img alt="Blocks Dropdown" src="../../../_images/020-Blocks-dropdown.png" style="width: 75%;" /></a>
</figure>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="../../../_images/030-Blocks-getExposure.png"><img alt="Blocks Exposure" src="../../../_images/030-Blocks-getExposure.png" style="width: 75%;" /></a>
<figcaption>
<p><span class="caption-text">Examples of Exposure Blocks with pull-down lists</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>This is used six places in the Webcam Controls section.</p>
</section>
<section id="pan-tilt-holder">
<h2>Pan-Tilt Holder<a class="headerlink" href="#pan-tilt-holder" title="Permalink to this heading"></a></h2>
<p>See this Block with the NEW operator (green oval):</p>
<figure class="align-center" id="id3">
<a class="reference internal image-reference" href="../../../_images/040-Blocks-holder.png"><img alt="PanTiltHolder" src="../../../_images/040-Blocks-holder.png" style="width: 75%;" /></a>
<figcaption>
<p><span class="caption-text">Examples of Pan/Tilt Blocks</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>It’s <strong>not needed</strong> if the OpMode will call <code class="docutils literal notranslate"><span class="pre">getPanTilt()</span></code> and assign
it to the variable, as shown above (yellow arrow).</p>
<p>It <strong>is needed</strong> if instead the OpMode will next try to get (or set)
that variable’s pan and/or tilt values, or try to pass that variable to
<code class="docutils literal notranslate"><span class="pre">setPanTiltHolder()</span></code>. The values will be zero.</p>
</section>
<section id="gain-and-exposure-test-opmode">
<h2>Gain and Exposure Test OpMode<a class="headerlink" href="#gain-and-exposure-test-opmode" title="Permalink to this heading"></a></h2>
<p>The SDK offers a built-in test OpMode to optimize Gain and Exposure.
See the Sample Java Sample called
<code class="docutils literal notranslate"><span class="pre">ConceptAprilTagOptimizeExposure.java</span></code>.</p>
<p>From its introduction notes:</p>
<blockquote>
<div><p><em>This OpMode determines the best Exposure for minimizing image
motion-blur on a webcam. Note that it is not possible to control the
exposure for a Phone Camera, so if you are using a Phone for the
Robot Controller this OpMode/Feature only applies to an externally
connected Webcam.</em></p>
<p><em>The goal is to determine the smallest (shortest) Exposure value that
still provides reliable Tag Detection. Starting with the minimum
Exposure and maximum Gain, the exposure is slowly increased until the
Tag is detected reliably from the likely operational distance.</em></p>
<p><em>The best way to run this optimization is to view the camera preview
screen while changing the exposure and gain.</em></p>
<p><em>To do this, you need to view the RobotController screen directly (not
from Driver Station) This can be done directly from a RC phone screen
(if you are using an external Webcam), but for a Control Hub you must
either plug an HDMI monitor into the Control Hub HDMI port, or use an
external viewer program like scrcpy (https://scrcpy.org/)</em></p>
</div></blockquote>
</section>
<section id="other-test-opmodes">
<h2>Other Test OpModes<a class="headerlink" href="#other-test-opmodes" title="Permalink to this heading"></a></h2>
<p>As an alternate, Camera Controls can be tested using these Blocks
OpModes:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://gist.github.com/WestsideRobotics/a8e32dc2ce31cfc408be65c92bb81826">Exposure &amp;
Gain</a></p></li>
<li><p><a class="reference external" href="https://gist.github.com/WestsideRobotics/d17d06c9e2f152f80a9563109873cb39">Focus</a></p></li>
<li><p><a class="reference external" href="https://gist.github.com/WestsideRobotics/977ba5cfdedf88f7348fbcdad7c8a909">Pan, Tilt, Zoom
(PTZ)</a></p></li>
<li><p><a class="reference external" href="https://gist.github.com/WestsideRobotics/0cf4f5f9913266be93cb366f54045a24">White
Balance</a></p></li>
</ul>
<p>For Java versions, click <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">to</span> <span class="pre">Java</span></code> at the Blocks editing
interface.</p>
<p>Another test OpMode is posted
<a class="reference external" href="https://gist.github.com/WestsideRobotics/41c004c097ecbf8f96c4e722b8336bd6">here</a>
and shown below. It uses 7 of the 11 Exposure Control Blocks, omitting 4
unlikely to be used.</p>
<p>The gamepad can raise and lower the webcam’s <strong>Exposure value</strong>, while
observing the <strong>live effect</strong> on previews and TFOD recognitions. This
allows a team to quickly find their preferred Exposure value in that
environment.</p>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="../../../_images/050-Blocks-Exposure-OpMode.png"><img alt="Blocks Exposure OpMode Example" src="../../../_images/050-Blocks-Exposure-OpMode.png" style="width: 75%;" /></a>
<figcaption>
<p><span class="caption-text">Blocks Exposure OpMode Example</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<hr class="docutils" />
<p><em>Questions, comments and corrections to westsiderobotics&#64;verizon.net</em></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../visionportal_cpu_and_bandwidth/visionportal-cpu-and-bandwidth.html" class="btn btn-neutral float-left" title="VisionPortal CPU and Bandwidth" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../vision_multiportal/vision-multiportal.html" class="btn btn-neutral float-right" title="Vision MultiPortal" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo" style="display: flex">
  
    <div id="container" style="width: 50%; white-space:nowrap;">

      <div>
        &#169; 2025 <i>FIRST</i>
      </div>

      <div>
        <p><a href="../../../tos/tos.html">Terms of Service</a></p>
      </div>
      <div>
        <p><a class="external" href="https://www.firstinspires.org/privacy-policy">Privacy Policy</a></p>
      </div>
      <div>
        <p><a class="external" href="https://www.firstinspires.org/programs/youth-protection-program">Report an Incident</a></p>
      </div>

      <div>
      </div>
    </div>

    <div align="right" style='flex-grow:1; text-align: right'>
      Season Presenting Sponsor
      <figure>
        <img src="../../../_static/RTX.png" alt="RTX" class="invert-img" width="200" align="right"/>
      </figure>
    </div>
  </div>
<!--
  <div> 
  </div>
  -->
</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

</body>
</html>