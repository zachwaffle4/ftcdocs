<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
 <meta name="google-site-verification" content="75RBwHq1pWFvK2E7wuVgAeq_LOOJrU4q1wRIjXqPpqg" />  <!-- Google Analytics Intentionally Disabled -->  <!-- Cookie Banner Intentionally Disabled --> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HuskyLens Intro for FIRST Tech Challenge &mdash; FIRST Tech Challenge Docs 0.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster.custom.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster.bundle.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-shadow.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-punk.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-noir.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-light.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-borderless.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/micromodal.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/ftc-rtd.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/sphinx_rtd_theme.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/dark_mode_css/general.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/dark_mode_css/dark.css" />

  
    <link rel="shortcut icon" href="../../_static/FIRSTicon_RGB_withTM.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/js/hoverxref.js"></script>
        <script src="../../_static/js/tooltipster.bundle.min.js"></script>
        <script src="../../_static/js/micromodal.min.js"></script>
        <script src="../../_static/js/external-links-new-tab.js"></script>
        <script src="../../_static/js/adjust-css-vars.js"></script>
        <script src="../../_static/design-tabs.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="../../_static/dark_mode_js/default_light.js"></script>
        <script src="../../_static/dark_mode_js/theme_switcher.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Subsystem Classes" href="../../programming_resources/java_tutorials/subsystem-classes.html" />
    <link rel="prev" title="Using the Kotlin Programming Language" href="../../programming_resources/shared/installing_kotlin/Installing-Kotlin.html" /> 
</head>

<body class="wy-body-for-nav"> 


<div class="header-bar">
        <!-- Color Strip -->
        <div class="color-strip">
            <div class="fred"></div>
            <div class="forange"></div>
            <div class="fblue"></div>
        </div>
        <div class="link-bar-container">
            <div id="link-bar" class="collapse">
                <ul>          
			<li id="ftc-page-link"><a href="https://www.firstinspires.org/resource-library/ftc/game-and-season-info" target="_blank"><i>FIRST</i> Official Team Resources</a></li>
                  <li id="qa-link"><a href="https://ftc-qa.firstinspires.org/" target="_blank">Official Game Q&A</a></li>
                </ul>
            </div>
        </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            FIRST Tech Challenge Docs
              <img src="../../_static/FIRSTTech_iconHorz_RGB_reverse.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview/ftcoverview.html">About the <em>FIRST</em> Tech Challenge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gracious_professionalism/gp.html"><em>Gracious Professionalism®</em></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../persona_pages/rookie_teams/rookie_teams.html">New Teams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../persona_pages/veteran_teams/veteran_teams.html">Returning Teams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../persona_pages/coach_admin/coach_admin.html">Coach (Administrative) Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../persona_pages/mentor_tech/mentor_tech.html">Technical Mentor Resources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Game and Season-Specific Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../game_specific_resources/blog/blog.html"><em>FIRST</em> Tech Challenge Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tech_tips/tech-tips.html"><em>FIRST</em> Tech Challenge Tech Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ai/innovation_corner/innovation-corner.html">AI Innovation Corner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../manuals/game_manuals/game_manuals.html">Competition Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../game_specific_resources/ftcqa/ftcqa.html">Game Q&amp;A System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../game_specific_resources/playing_field_resources/playing_field_resources.html">Playing Field Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../game_specific_resources/field_coordinate_system/field-coordinate-system.html">Field Coordinate System</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Development Kit (SDK)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../programming_resources/laptops/laptops.html">Laptop Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ftc_sdk/overview/index.html">SDK Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ftc_sdk/updating/index.html">Updating Components</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Control System Resources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../programming_resources/shared/control_system_intro/The-FTC-Control-System.html">Control System Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../control_hard_compon/index.html">Hardware Component Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware_and_software_configuration/index.html">Hardware and Software Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware_and_software_configuration/self_inspect/new-self-inspect.html"><em>FIRST</em> Tech Challenge Self-Inspect</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware_and_software_configuration/self_inspect/self-inspect.html">Old Self-Inspect</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../programming_resources/index.html">Programming Resources</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../programming_resources/index.html#programming-tutorials">Programming Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming_resources/index.html#supporting-documentation">Supporting Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming_resources/index.html#apriltag-programming">AprilTag Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming_resources/index.html#tensorflow-programming">TensorFlow Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming_resources/index.html#vision-programming">Vision Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming_resources/index.html#camera-color-processing">Camera Color Processing</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../programming_resources/index.html#advanced-topics">Advanced Topics</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../programming_resources/shared/pid_coefficients/pid-coefficients.html">Changing PID Coefficients</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../programming_resources/shared/pidf_coefficients/pidf-coefficients.html">Changing PIDF Coefficients</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../programming_resources/shared/auto_load_opmode/auto-load-opmode.html">Automatically Loading a Driver Controlled Op Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../programming_resources/shared/myblocks/index.html">Custom Blocks (myBlocks)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../programming_resources/shared/external_libraries_blocks/external-libraries-blocks.html">External Libraries in OnBot Java and Blocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../programming_resources/imu/imu.html">Universal IMU Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../programming_resources/shared/installing_kotlin/Installing-Kotlin.html">Using the Kotlin Programming Language</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">HuskyLens Intro for <em>FIRST</em> Tech Challenge</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#electrical-connection">Electrical Connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sample-opmode">Sample OpMode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#apriltag-detection">AprilTag Detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#single-color-training">Single Color Training</a></li>
<li class="toctree-l4"><a class="reference internal" href="#single-color-detection">Single Color Detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#competition-notes">Competition Notes</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#team-prop">1. Team Prop</a></li>
<li class="toctree-l5"><a class="reference internal" href="#color">2. Color</a></li>
<li class="toctree-l5"><a class="reference internal" href="#lighting">3. Lighting</a></li>
<li class="toctree-l5"><a class="reference internal" href="#programming">4. Programming</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#multi-color-training">Multi-Color Training</a></li>
<li class="toctree-l4"><a class="reference internal" href="#multi-color-detection">Multi-Color Detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-training">Object Training</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../programming_resources/index.html#java-tutorials">Java Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming_resources/index.html#additional-first-website-resources">Additional <em>FIRST</em> Website Resources</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Programming Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../programming_resources/shared/choosing_program_lang/choosing-program-lang.html">Choosing a Programming Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programming_resources/blocks/Blocks-Tutorial.html">Blocks Programming Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programming_resources/onbot_java/OnBot-Java-Tutorial.html">OnBot Java Programming Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programming_resources/android_studio_java/Android-Studio-Tutorial.html">Android Studio Programming Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AprilTag Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../apriltag/vision_portal/apriltag_intro/apriltag-intro.html">AprilTag Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apriltag/vision_portal/visionportal_overview/visionportal-overview.html">VisionPortal Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apriltag/vision_portal/visionportal_webcams/visionportal-webcams.html">Webcams for VisionPortal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apriltag/understanding_apriltag_detection_values/understanding-apriltag-detection-values.html">Understanding AprilTag Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apriltag/vision_portal/apriltag_localization/apriltag-localization.html">AprilTag Localization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apriltag/opmode_test_images/opmode-test-images.html">AprilTag Test Images</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">CAD Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cad_resources/index.html">Computer Aided Design (CAD)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Electrostatic Discharge</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../hardware_and_software_configuration/configuring/managing_esd/managing-esd.html">Managing ESD Effects</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Manufacturing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../manufacturing/index.html">Manufacturing Methods</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Team Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../faq/faqs.html">Common Team FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sponsors/software/software.html">Team Complimentary Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sponsors/discounts/discounts.html">Team Discounts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FTC Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../booklets/index.html">Booklets</a></li>
<li class="toctree-l1"><a class="reference external" href="https://ftc-docs.firstinspires.org/projects/ftcdocs-archive/en/latest/index.html">Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ftc_docs/form/form.html">Site Feedback Form</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contrib/index.html">Contributing to FTC Docs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">FIRST Tech Challenge Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../programming_resources/index.html">Programming Resources</a></li>
      <li class="breadcrumb-item active">HuskyLens Intro for <em>FIRST</em> Tech Challenge</li>
<li class="wy-breadcrumbs-aside" style="padding-inline-start: 6px;">
</li>

      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/devices/huskylens/huskylens.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="huskylens-intro-for-first-tech-challenge">
<h1>HuskyLens Intro for <em>FIRST</em> Tech Challenge<a class="headerlink" href="#huskylens-intro-for-first-tech-challenge" title="Permalink to this heading"></a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading"></a></h2>
<p>This is a simple tutorial to introduce the use of
<a class="reference external" href="https://www.dfrobot.com/product-1922.html">HuskyLens</a> in <em>FIRST</em> Tech
Challenge, for
teams that <strong>already decided</strong> to explore its potential.</p>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../../_images/020-HuskyLens-dual.png"><img alt="HuskyLens" src="../../_images/020-HuskyLens-dual.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">DFRobot HuskyLens</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Basic support for this <strong>vision sensor</strong> was added to the FTC SDK
version 9.0 in September 2023 with the CENTERSTAGE robot game kickoff.</p>
<p>HuskyLens uses <strong>on-board programming</strong> to perform AI-assisted learning,
vision processing and recognition. It plugs into an <strong>I2C sensor port</strong>
of a REV Control Hub or REV Expansion Hub.</p>
<p>HuskyLens is <strong>not a USB webcam</strong>, and <strong>does not use</strong> the FTC
<a class="reference internal" href="../../apriltag/vision_portal/visionportal_overview/visionportal-overview.html#visionportal-overview"><span class="std std-ref">VisionPortal</span></a>
software.</p>
</section>
<section id="electrical-connection">
<h2>Electrical Connection<a class="headerlink" href="#electrical-connection" title="Permalink to this heading"></a></h2>
<p>You will need a <strong>custom adapter cable</strong> to connect the HuskyLens to an
I2C port on a REV Control Hub or Expansion Hub. The 4 wires/pins of the
HuskyLens connector are not in the same order/position as the 4 pins on
the REV Hub.</p>
<p>Three of the wires have <strong>the same color</strong> as wires in the REV sensor
cable. Your custom cable should connect <strong>red to red</strong>, <strong>black to
black</strong>, and <strong>blue to blue</strong>. This leaves only the HuskyLens <strong>green
wire</strong>; connect it to the REV <strong>white wire</strong>. Simple!</p>
<p>This tutorial does <strong>not</strong> cover the (many) ways to:</p>
<ul class="simple">
<li><p>modify an existing cable (change pin order in one connector), <strong>OR</strong></p></li>
<li><p>fabricate a custom cable, with:</p>
<ul>
<li><p>soldering</p></li>
<li><p>crimped connectors</p></li>
<li><p>lever nuts (example below)</p></li>
</ul>
</li>
</ul>
<p>FTC Competition Manual allows this work, but teams must ensure high quality for
robot competition all season.</p>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="../../_images/060-adapter.png"><img alt="Wiring an Adapter" src="../../_images/060-adapter.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">image credit: &#64;texasdiaz</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>To confirm these wiring instructions are correct, you could study the
<a class="reference external" href="https://wiki.dfrobot.com/HUSKYLENS_V1.0_SKU_SEN0305_SEN0336#target_3">HuskyLens
documentation</a>
and the <a class="reference external" href="https://docs.revrobotics.com/duo-control/sensors/i2c#wiring">REV Hub
documentation</a>.
You will see the following “pinout” info:</p>
<ul class="simple">
<li><p>HuskyLens <strong>green</strong> wire 1 (“T”) SDA or data == REV Hub <strong>white</strong> wire 3
“SDA” or data</p></li>
<li><p>HuskyLens <strong>blue</strong> wire 2 (“R”) SCL or clock == REV Hub <strong>blue</strong> wire 4 “SCL”
or clock</p></li>
<li><p>HuskyLens <strong>black</strong> wire 3 (“-”) GND or ground == REV Hub <strong>black</strong> wire 1
“GND” or ground</p></li>
<li><p>HuskyLens <strong>red</strong> wire 4 (“+”) VCC or +3.3-5VDC == REV Hub <strong>red</strong> wire 2
“3.3V” or Vcc</p></li>
</ul>
<figure class="align-center" id="id3">
<a class="reference internal image-reference" href="../../_images/070-ports.png"><img alt="Ports" src="../../_images/070-ports.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">image credit: &#64;texasdiaz</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading"></a></h2>
<p>Plug the HuskyLens into a REV Hub I2C port, using your new adapter
cable. The I2C connections labeled <strong>Bus 1, 2 or 3</strong> are suggested, to
avoid (unlikely) overload of data traffic.</p>
<p>The label 0 (zero) is I2C Bus 0, which likely has a <strong>built-in IMU</strong> on
its Port 0. An I2C Bus can contain multiple I2C Ports, sharing traffic.</p>
<p>On the Driver Station, touch the three-dots menu, and
<code class="docutils literal notranslate"><span class="pre">Configure</span> <span class="pre">Robot</span></code>.</p>
<p>Edit an existing (correct) configuration, or touch <code class="docutils literal notranslate"><span class="pre">New</span></code>. Touch
<code class="docutils literal notranslate"><span class="pre">Scan</span></code>, then navigate (through the Portal level) to the specific
<code class="docutils literal notranslate"><span class="pre">Expansion</span> <span class="pre">Hub</span></code> or <code class="docutils literal notranslate"><span class="pre">Control</span> <span class="pre">Hub</span></code> with the HuskyLens plugged in.</p>
<p>Select <code class="docutils literal notranslate"><span class="pre">I2C</span> <span class="pre">Bus</span> <span class="pre">3</span></code> or whichever Bus number has the HuskyLens plugged
in.</p>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="../../_images/120-DS-config.png"><img alt="DS Config" src="../../_images/120-DS-config.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">Driver Station Config</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Touch <code class="docutils literal notranslate"><span class="pre">Add</span></code>, and select device “HuskyLens” from the drop-down list for
Port 0 (or first available port). Type the device name “huskylens”, as
expected by the Sample OpMode.</p>
<p>Touch <code class="docutils literal notranslate"><span class="pre">Done</span></code> several times, then <code class="docutils literal notranslate"><span class="pre">Save</span></code>, to save and name/rename
this updated robot configuration. Touch the DS “Back” arrow, returning
to the DS app’s home screen.</p>
<p>Confirm that your new configuration is shown on-screen as the active
configuration.</p>
</section>
<section id="sample-opmode">
<h2>Sample OpMode<a class="headerlink" href="#sample-opmode" title="Permalink to this heading"></a></h2>
<p>Connect your programming computer to the Robot Controller, and open the
programming software. This tutorial uses <strong>FTC Blocks</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>OnBot Java</strong> and <strong>Android Studio</strong> users can easily follow along, since
the Java Sample OpMode uses the same programming logic and is well
commented.</p>
</div>
<p>In FTC Blocks, create a new OpMode using the sample called
“SensorHuskyLens”:</p>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="../../_images/140-Sample-Blocks.png"><img alt="Blocks Sample" src="../../_images/140-Sample-Blocks.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">HuskyLens Blocks Sample</span><a class="headerlink" href="#id5" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Change the OpMode type from <code class="docutils literal notranslate"><span class="pre">TeleOp</span></code> to <code class="docutils literal notranslate"><span class="pre">Autonomous</span></code>, since this
sample does not use the gamepads.</p>
<figure class="align-center" id="id6">
<a class="reference internal image-reference" href="../../_images/160-Algorithm-Blocks.png"><img alt="Algorithm" src="../../_images/160-Algorithm-Blocks.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">HuskyLens Blocks Algorithm</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Notice the default algorithm here is <code class="docutils literal notranslate"><span class="pre">TAG_RECOGNITION</span></code>, which simply
detects any (common) AprilTags in the sensor’s field of view. This
recognition is unrelated to the FTC game CENTERSTAGE and its 10
AprilTags with metadata. Instead, this is a simple built-in, generic
function of HuskyLens, used here only to validate the sensor’s
operation.</p>
<p>For AprilTag recognition and navigation, FTC teams may find much more
value from a UVC webcam and the FTC
<a class="reference internal" href="../../apriltag/vision_portal/visionportal_overview/visionportal-overview.html#visionportal-overview"><span class="std std-ref">VisionPortal</span></a>
software. An FTC robot may use HuskyLens <strong>and</strong> USB webcams.</p>
<p>Click <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">OpMode</span></code>, then select and run this OpMode from the Driver
Station. After touching the Start arrow, point the HuskyLens at any
AprilTag from the common 36h11 family:</p>
<figure class="align-center" id="id7">
<a class="reference internal image-reference" href="../../_images/210-AprilTag-double.png"><img alt="Uncategorized Apriltag" src="../../_images/210-AprilTag-double.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">Uncategorized AprilTag Detected</span><a class="headerlink" href="#id7" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The HuskyLens’ small screen will show the recognized AprilTag,
surrounded by a thin white Bounding Box.</p>
<p>Here’s the corresponding DS Telemetry:</p>
<figure class="align-center" id="id8">
<a class="reference internal image-reference" href="../../_images/220-DS-1-big-AprilTag.png"><img alt="DS AprilTag" src="../../_images/220-DS-1-big-AprilTag.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">AprilTag Telemetry</span><a class="headerlink" href="#id8" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The data includes:</p>
<ul class="simple">
<li><p>number of objects (called “blocks”) detected</p></li>
<li><p>ID code of object (might not be correct or meaningful)</p></li>
<li><p>size of Bounding Box, in pixels</p></li>
<li><p>center position of Bounding Box, in pixels, with (X, Y) origin at the top left</p></li>
</ul>
<p>The HuskyLens device screen is 320 x 240 pixels, with center at position
(160, 120).</p>
<p><strong>Congratulations!</strong> At this point, you have validated the HuskyLens
device, its connection to the REV Hub, and the Sample OpMode program.</p>
</section>
<section id="apriltag-detection">
<h2>AprilTag Detection<a class="headerlink" href="#apriltag-detection" title="Permalink to this heading"></a></h2>
<p>Now you can test whether the HuskyLens can detect the AprilTag’s
position on the CENTERSTAGE Spike Marks. This is not a real game
scenario, since a Team Prop (Team Game Element) cannot use an AprilTag.
This simply verifies whether your robot could aim the HuskyLens to “see”
2 or 3 Spike Marks in a single view.</p>
<figure class="align-center" id="id9">
<a class="reference internal image-reference" href="../../_images/230-3-tags-double.png"><img alt="3 Tags" src="../../_images/230-3-tags-double.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">HuskyLens Viewing 3 Uncategorized Tags</span><a class="headerlink" href="#id9" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Here the HuskyLens was placed in a feasible position, about 10 inches
from the mat, near the middle of the foam tile before the Spike-Mark
tile. The view <strong>does include</strong> the middle of all three Spike Marks.</p>
<p>All three AprilTags were recognized:</p>
<figure class="align-center" id="id10">
<a class="reference internal image-reference" href="../../_images/235-DS-3-AprilTag.png"><img alt="3 Blocks" src="../../_images/235-DS-3-AprilTag.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">Telemetry Showing 3 Blocks</span><a class="headerlink" href="#id10" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>This validates the possibility that HuskyLens could recognize a trained
object in one of various known positions – useful for the Autonomous
phase of the CENTERSTAGE game.</p>
</section>
<section id="single-color-training">
<h2>Single Color Training<a class="headerlink" href="#single-color-training" title="Permalink to this heading"></a></h2>
<p>Soon you will try a different algorithm called <code class="docutils literal notranslate"><span class="pre">COLOR_RECOGNITION</span></code>.
But first you need the HuskyLens to “learn” a single color, using its
built-in AI feature.</p>
<p>Choose any object, about 3 to 4 inches in size, that’s completely one
color – any color. Here we use a flat square beverage coaster (LEGO!),
with a uniform <strong>red color</strong>.</p>
<p>Place this object in the position and lighting that you expect to use
for detection. This could be on a CENTERSTAGE Spike Mark, if available.</p>
<figure class="align-center" id="id11">
<a class="reference internal image-reference" href="../../_images/240-red-color-ID.png"><img alt="Red Color ID" src="../../_images/240-red-color-ID.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">Red Color ID</span><a class="headerlink" href="#id11" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>In the above image, the trained color is shown as <strong>``Color:ID1``</strong> with
a rectangular Bounding Box. The following steps describe how to do this
training.</p>
<p>The <strong>HuskyLens instructions</strong> for learning a color are <a class="reference external" href="https://wiki.dfrobot.com/HUSKYLENS_V1.0_SKU_SEN0305_SEN0336#target_19">posted
online</a>.
You could try to follow those, or use the equivalent description here.
Some practice may be required!</p>
<p>On the top of the HuskyLens, the wheel at the left side is called the
<strong>Function button</strong> (actually a dial and button). At the right side is
the small <strong>Learning button</strong>.</p>
<p>Dial the Function button to the right or left until <strong>“Color
Recognition”</strong> is displayed at the bottom of the screen.</p>
<p>This is Step 1 only, under <code class="docutils literal notranslate"><span class="pre">Operation</span> <span class="pre">and</span> <span class="pre">Setting</span></code> of the HuskyLens
instructions. For now, do not try to “learn” more than one color with
Steps 2-4.</p>
<p>Point the plus-sign “+” icon in the center of the HuskyLens screen at
your object’s main color area. A white frame appears on the screen,
targeting the main color. Aim the HuskyLens so the white frame includes
only the target color.</p>
<p>This is Step 1 of <code class="docutils literal notranslate"><span class="pre">Learning</span> <span class="pre">and</span> <span class="pre">Detection</span></code>. Next comes Step 2, Color
Learning.</p>
<p>With the main color framed, <strong>long press</strong> (press and hold) the small
<strong>Learning button</strong> (right side). A yellow frame is displayed on the
screen, indicating that HuskyLens is learning the color. During this
long press, move the HuskyLens while pointing at the color area, to let
HuskyLens learn the color from various distances and angles. Then,
release the Learning button to complete learning that color. Do not
press the button again (ignore the prompt); allow the 5-second time-out
to finish.</p>
<p>The long-press learning period can last for just a few seconds. After
releasing the Learning button, you allowed the training to time-out – no
more colors to learn. Training is done!</p>
<p>As shown above, the trained color will be shown on-screen as
<strong>``Color:ID1``</strong> with a rectangular Bounding Box. This “block” (of
color) will be reported in the Sample OpMode (next step).</p>
<p>If you want to do this over again, short-press the Learning button, then
short-press again to <strong>Forget</strong> the learned color(s). This will make the
plus-sign “+” icon appear again. Aim the plus-sign at the center of the
color area, and repeat the learning (long-press the Learning button).
Release and let the time-out finish.</p>
<p>This section showed how to train a single color. After completing this
tutorial, you may wish to train <strong>two colors</strong> (e.g. a Red shade and a
Blue shade). This is described near the end of this tutorial.</p>
<p>HuskyLens documentation refers to the color zone as a “block” of color.
This is not the same as a physical block or cube. HuskyLens uses the
same word “block” for recognitions.</p>
<p>Note the official warning:</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>“Color recognition is greatly affected by ambient light. Sometimes
HuskyLens may misidentify similar colors. Please try to keep the
ambient light unchanged.”</p>
</div>
</section>
<section id="single-color-detection">
<h2>Single Color Detection<a class="headerlink" href="#single-color-detection" title="Permalink to this heading"></a></h2>
<p>Aim the HuskyLens at one or more of your color-trained objects.</p>
<figure class="align-center" id="id12">
<a class="reference internal image-reference" href="../../_images/250-two-red.png"><img alt="Two Red Objects" src="../../_images/250-two-red.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">HuskyLens Detecting Two Red Objects</span><a class="headerlink" href="#id12" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>As shown above, the HuskyLens should recognize and label your colored
objects with <strong>``Color:ID1``</strong>. Here, both red objects are identified
(yellow arrows).</p>
<p>In the programming software (same OpMode), now select a different
algorithm called <code class="docutils literal notranslate"><span class="pre">COLOR_RECOGNITION</span></code>:</p>
<figure class="align-center" id="id13">
<a class="reference internal image-reference" href="../../_images/245-Color-Algorithm-Blocks.png"><img alt="COLOR_RECOGNITION algorithm" src="../../_images/245-Color-Algorithm-Blocks.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">Selecting COLOR_RECOGNITION algorithm</span><a class="headerlink" href="#id13" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>In the Java sample OpMode, change the algorithm selection as follows:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">huskyLens</span><span class="p">.</span><span class="na">selectAlgorithm</span><span class="p">(</span><span class="n">HuskyLens</span><span class="p">.</span><span class="na">Algorithm</span><span class="p">.</span><span class="na">COLOR_RECOGNITION</span><span class="p">);</span>
</pre></div>
</div>
<p>Save this OpMode, then select and run it on the Driver Station. Make
sure the active configuration includes the HuskyLens.</p>
<figure class="align-center" id="id14">
<a class="reference internal image-reference" href="../../_images/260-DS-two-red.png"><img alt="DS Telemetry Two Objects" src="../../_images/260-DS-two-red.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">DS Telemetry Two Objects</span><a class="headerlink" href="#id14" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>As shown above, the OpMode provides the size and location of the white
Bounding Boxes (called “blocks”). This is done in a <strong>FOR loop</strong>;
multiple recognitions are processed one at at time.</p>
<p>In the Java sample OpMode, <strong>inside the FOR loop</strong>, you could save or
evaluate <strong>specific</strong> info for the currently recognized Bounding Box:
<code class="docutils literal notranslate"><span class="pre">blocks[i].width</span></code>, <code class="docutils literal notranslate"><span class="pre">blocks[i].height</span></code>, <code class="docutils literal notranslate"><span class="pre">blocks[i].left</span></code>,
<code class="docutils literal notranslate"><span class="pre">blocks[i].top</span></code>, and (for the Box’s center) <code class="docutils literal notranslate"><span class="pre">blocks[i].x</span></code> and
<code class="docutils literal notranslate"><span class="pre">blocks[i].y</span></code>. The Color ID <code class="docutils literal notranslate"><span class="pre">blocks[i].id</span></code> is always 1 here, for
single-color detection. These values have Java type <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p>
<p>Even if your Team Prop’s color closely matches the color of the red or
blue Spike Mark, you could write OpMode code to reject the narrow shape
(aspect ratio) of an empty Spike Mark’s Bounding Box.</p>
<p>Here’s an example with a trained <strong>blue object</strong>:</p>
<figure class="align-center" id="id15">
<a class="reference internal image-reference" href="../../_images/270-two-blue-double.png"><img alt="Two Blue Objects" src="../../_images/270-two-blue-double.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">HuskyLens Two Blue Objects</span><a class="headerlink" href="#id15" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Both blue objects were recognized by the OpMode:</p>
<figure class="align-center" id="id16">
<a class="reference internal image-reference" href="../../_images/280-DS-2-blue.png"><img alt="DS Two Blue Objects" src="../../_images/280-DS-2-blue.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">Telemetry for Two Blue Objects</span><a class="headerlink" href="#id16" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Again, your code can evaluate the size and location of any provided
Bounding Box, to verify a “real” recognition of your object.</p>
</section>
<section id="competition-notes">
<h2>Competition Notes<a class="headerlink" href="#competition-notes" title="Permalink to this heading"></a></h2>
<section id="team-prop">
<h3>1. Team Prop<a class="headerlink" href="#team-prop" title="Permalink to this heading"></a></h3>
<p>Now you are ready to experiment with color recognition of an actual Team
Prop, also called a Team Game Element. Study the Competition Manual
and the <a class="reference external" href="https://ftc-qa.firstinspires.org/">FTC Q&amp;A</a> for the Team
Prop requirements. Choose your shades of “red” and “blue” (see note
below), and follow the same steps as above.</p>
</section>
<section id="color">
<h3>2. Color<a class="headerlink" href="#color" title="Permalink to this heading"></a></h3>
<p>The above trained <strong>blue object</strong> is not the same shade of blue as the
blue Spike Mark. This difference increases the chance of a distinct and
correct recognition of the object color.</p>
<p>In this game, the Competition Manual specifically allowed the Team Prop to be a
different shade of Red or Blue, compared to the official tape color of Spike
Marks.</p>
</section>
<section id="lighting">
<h3>3. Lighting<a class="headerlink" href="#lighting" title="Permalink to this heading"></a></h3>
<p>The HuskyLens documentation provides a warning (shown above) that
ambient lighting can impact recognition of a trained color.</p>
<p>For this reason, competition training should ideally be done with the
Team Prop (Team Game Element) on the Spike Mark, and the HuskyLens in
its planned match start position, “on-robot”.</p>
<p>Also, the trained ambient lighting must be similar to expected match
conditions. This may suggest performing the final color-training as part
of tournament or match set-up. With practice, it could be done in a few
seconds.</p>
</section>
<section id="programming">
<h3>4. Programming<a class="headerlink" href="#programming" title="Permalink to this heading"></a></h3>
<p>In this Sample OpMode, the main loop ends only upon touching the DS Stop
button. For competition, teams should <strong>modify this code</strong> in at least
two ways:</p>
<ul class="simple">
<li><p>for a significant recognition, take action or store key information –
inside the FOR loop</p></li>
<li><p>end the main loop based on your criteria, to continue the OpMode</p></li>
</ul>
<p>As an example, you might set a Boolean variable <code class="docutils literal notranslate"><span class="pre">isPropDetected</span></code> to
<code class="docutils literal notranslate"><span class="pre">true</span></code>, if a significant recognition has occurred.</p>
<p>You might also evaluate and store which randomized Spike Mark (red or
blue tape stripe) holds the Team Prop.</p>
<p>Regarding the main loop, it could end after the HuskyLens views all
three Spike Marks, or after your code provides a high-confidence result.
If the HuskyLens’ view includes more than one Spike Mark position,
perhaps the <strong>Bounding Box</strong> size(s) and location(s) could be useful.
Teams should consider how long to seek an acceptable recognition, and
what to do otherwise.</p>
<p>In any case, the OpMode should exit the main loop and continue running,
using any stored information.</p>
</section>
</section>
<section id="multi-color-training">
<h2>Multi-Color Training<a class="headerlink" href="#multi-color-training" title="Permalink to this heading"></a></h2>
<p>After completing the above tutorial with a single trained color, you may
wish to train <strong>two colors</strong> (e.g. a Red shade and a Blue shade).</p>
<p>This would avoid the need for multiple color-training sessions during an
FTC tournament. With single-color, you would train for Red before
playing an FTC match as Red Alliance, and train for Blue before playing
as Blue Alliance.</p>
<p>With multi-color, your Red-Alliance Autonomous OpMode could seek Red as
<strong>``Color:ID1``</strong>, for example, and your Blue-Alliance Autonomous OpMode
could seek Blue as <strong>``Color:ID2``</strong>.</p>
<p>The <strong>HuskyLens instructions</strong> for learning multiple colors are <a class="reference external" href="https://wiki.dfrobot.com/HUSKYLENS_V1.0_SKU_SEN0305_SEN0336#target_19">posted
online</a>.
You could try to follow those, or use the equivalent description here.
Again, some practice may be required!</p>
<p>Reminder: on the top of the HuskyLens, the wheel at the left side is
called the <strong>Function button</strong> (actually a dial and button). At the
right side is the small <strong>Learning button</strong>.</p>
<p><strong>Step 1.</strong> Dial the Function button to the right or left until <strong>“Color
Recognition”</strong> is displayed at the bottom of the screen.</p>
<p><strong>Long press</strong> (press and hold) the Function button to select Color
Recognition.</p>
<p><strong>Step 2.</strong> This brings up the next menu, containing the choice “Learn
Multiple”. If needed, dial the Function button to highlight “Learn
Multiple”.</p>
<p><strong>Short press</strong> (press and release) the Function button to select Learn
Multiple.</p>
<p>This brings up the OFF-ON slider bar for “Learn Multiple”. If needed,
dial the Function Button to move the blue square to the <strong>right side</strong>
of the blue slider bar. See yellow arrow:</p>
<figure class="align-center" id="id17">
<a class="reference internal image-reference" href="../../_images/340-Husky-LearnMultiple.png"><img alt="Learn Multiple" src="../../_images/340-Husky-LearnMultiple.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">HuskyLens - Learn Multiple</span><a class="headerlink" href="#id17" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p><strong>Short press</strong> the Function button to set “Learn Multiple” to <strong>ON</strong>.</p>
<p><strong>Step 3.</strong> Dial the Function button to the left, and <strong>short press</strong> to
select “Save &amp; Return”.</p>
<p>At the screen prompt “Do you want to save the parameters?” or “Do you
save data?”, <strong>short press</strong> the Function button to select “Yes”. This
saves the mode (again) as “Learn Multiple” and exits the settings menu.</p>
<p>Now ready for learning!</p>
<p><strong>Step 4.</strong> As before, point the plus-sign “+” icon in the center of the
HuskyLens screen at your object’s main color area. A <strong>white frame</strong>
appears on the screen, targeting the main color. Aim the HuskyLens so
the white frame includes only the target color.</p>
<p>With the main color framed, <strong>long press</strong> (press and hold) the small
<strong>Learning button</strong> (right side). A <strong>yellow frame</strong> appears on the
screen, indicating that HuskyLens is learning the color.</p>
<p>During this long press, move the HuskyLens while pointing at the color
area, to let HuskyLens learn the color from various distances and
angles. Then, release the Learning button to complete learning that
color.</p>
<p>The long-press learning period can last for just a few seconds. After
releasing the Learning button, <strong>``Color:ID1``</strong> is now trained, with
its label shown on-screen. Easy!</p>
<figure class="align-center" id="id18">
<a class="reference internal image-reference" href="../../_images/240-red-color-ID.png"><img alt="RED Color 1 Trained" src="../../_images/240-red-color-ID.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">HuskyLens - RED (Color 1) Trained</span><a class="headerlink" href="#id18" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p><strong>Step 5.</strong> As prompted on the screen, <strong>short press</strong> the Learning
button again (before the 5-second time-out). This prepares for learning
the next color.</p>
<p><strong>Step 6.</strong> Point the lens at your second color, and repeat the previous
Step 4. Namely, <strong>long press</strong> the Learning button, aim and move, then
<strong>release</strong> to complete learning that color.</p>
<p>Now <strong>``Color:ID2``</strong> is trained, with its label shown on-screen.</p>
<p><strong>Step 7.</strong> As prompted, <strong>short press</strong> the “other” button, the
Function button. Or, allow the 5-second time-out to complete. In either
case, this completes the multi-color training. All done!</p>
<figure class="align-center" id="id19">
<a class="reference internal image-reference" href="../../_images/360-two-colors.png"><img alt="Two Colors Trained" src="../../_images/360-two-colors.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">HuskyLens - Two Colors Trained (ID1 and ID2)</span><a class="headerlink" href="#id19" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>If you want to do all this <strong>over again</strong>, short-press the Learning
button, then (as prompted) short-press again to <strong>``Forget`` all of the
learned colors</strong>.</p>
<p>This makes the plus-sign “+” icon appear again. Repeat the above, from
Step 4, to train colors again.</p>
</section>
<section id="multi-color-detection">
<h2>Multi-Color Detection<a class="headerlink" href="#multi-color-detection" title="Permalink to this heading"></a></h2>
<p>For your OpMode code to read <strong>``Color:ID2``</strong>, for example, the
Algorithm must be set to <code class="docutils literal notranslate"><span class="pre">COLOR_RECOGNITION</span></code> and the field
<code class="docutils literal notranslate"><span class="pre">HuskyLens.Block.id</span></code> will be <strong>the value 2</strong>. This can be seen in the
Telemetry portion of the Sample OpMode you used above.</p>
<figure class="align-center" id="id20">
<a class="reference internal image-reference" href="../../_images/400-Blocks-Color-ID.png"><img alt="Color Detection Blocks" src="../../_images/400-Blocks-Color-ID.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">Adding Telemetry for Colors</span><a class="headerlink" href="#id20" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Here’s the DS Telemetry from the Sample OpMode used above for single
color, <strong>with no coding changes</strong>:</p>
<figure class="align-center" id="id21">
<a class="reference internal image-reference" href="../../_images/420-2-color-telemetry.png"><img alt="2 Color Telemetry" src="../../_images/420-2-color-telemetry.png" style="width: 85%;" /></a>
<figcaption>
<p><span class="caption-text">Example Telemetry showing Both Colors</span><a class="headerlink" href="#id21" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Now there are two trained and recognized colors, with ID Codes 1 and 2 –
see yellow arrow above.</p>
<p>These two lines of Telemetry are generated in different cycles of the
same FOR Loop. They display together, since the <code class="docutils literal notranslate"><span class="pre">Telemetry.update</span></code>
Block appears <strong>after</strong> the FOR Loop has completed all of its cycles.
Namely, the FOR Loop has processed each HuskyLens “color block” in the
<code class="docutils literal notranslate"><span class="pre">List</span></code> of HuskyLens “blocks”.</p>
<p>In the Java sample OpMode, add these lines <strong>inside the FOR loop</strong>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">thisColorID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">blocks</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="na">id</span><span class="p">;</span><span class="w">                      </span><span class="c1">// save the current recognition&#39;s Color ID</span>
<span class="n">telemetry</span><span class="p">.</span><span class="na">addData</span><span class="p">(</span><span class="s">&quot;This Color ID&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">thisColorID</span><span class="p">);</span><span class="w">     </span><span class="c1">// display that Color ID</span>
</pre></div>
</div>
<p>Besides <code class="docutils literal notranslate"><span class="pre">.id</span></code>, other Java fields are available for the currently
recognized Bounding Box: <code class="docutils literal notranslate"><span class="pre">.width</span></code>, <code class="docutils literal notranslate"><span class="pre">.height</span></code>, <code class="docutils literal notranslate"><span class="pre">.left</span></code>, <code class="docutils literal notranslate"><span class="pre">.top</span></code>,
plus <code class="docutils literal notranslate"><span class="pre">.x</span></code> and <code class="docutils literal notranslate"><span class="pre">.y</span></code> (center location).</p>
<p>The color ID numbers are assigned <strong>in order of training</strong>. You cannot
renumber these later, so plan your training and OpMode coding to agree
with each other.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><strong>Advanced tip:</strong> If your color recognition is heavily affected by ambient
lighting, you could try training your object in various lighting conditions
<strong>as different HuskyLens colors</strong>. Namely, the Red-shade Team Prop could be
trained as <strong>``Color:ID1``</strong> in bright light, and trained as
<strong>``Color:ID2``</strong> in dim light or shadow. Your OpMode could accept
<strong>either</strong> Color ID (1 or 2) as “Red”. Likewise, Blue shades could have
Color IDs 3 and 4.</p>
</div>
</section>
<section id="object-training">
<h2>Object Training<a class="headerlink" href="#object-training" title="Permalink to this heading"></a></h2>
<p>This tutorial ends with HuskyLens <strong>color training</strong>. Now you are
familiar with the basic steps for HuskyLens operation, training, and FTC
programming.</p>
<p>You are encouraged to proceed with training the HuskyLens to recognize
an <strong>actual object</strong>. This could be one of its 20 pre-trained models
(“Object Recognition”) or a <strong>custom model or image</strong> that you train
(“Object Classification”). In each case, follow a process similar to
color training, using the <a class="reference external" href="https://wiki.dfrobot.com/HUSKYLENS_V1.0_SKU_SEN0305_SEN0336">HuskyLens
documentation</a>.</p>
<p>You may find that HuskyLens <strong>object recognition</strong> provides more
(educational) exposure to the process of AI and Machine Learning, along
with more reliable results than color recognition.</p>
<p>Best of luck this season!</p>
<hr class="docutils" />
<p>Questions, comments and corrections to <a class="reference external" href="mailto:westsiderobotics&#37;&#52;&#48;verizon&#46;net">westsiderobotics<span>&#64;</span>verizon<span>&#46;</span>net</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../programming_resources/shared/installing_kotlin/Installing-Kotlin.html" class="btn btn-neutral float-left" title="Using the Kotlin Programming Language" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../programming_resources/java_tutorials/subsystem-classes.html" class="btn btn-neutral float-right" title="Subsystem Classes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo" style="display: flex">
  
    <div id="container" style="width: 50%; white-space:nowrap;">

      <div>
        &#169; 2025 <i>FIRST</i>
      </div>

      <div>
        <p><a href="../../tos/tos.html">Terms of Service</a></p>
      </div>
      <div>
        <p><a class="external" href="https://www.firstinspires.org/privacy-policy">Privacy Policy</a></p>
      </div>
      <div>
        <p><a class="external" href="https://www.firstinspires.org/programs/youth-protection-program">Report an Incident</a></p>
      </div>

      <div>
      </div>
    </div>

    <div align="right" style='flex-grow:1; text-align: right'>
      Season Presenting Sponsor
      <figure>
        <img src="../../_static/RTX.png" alt="RTX" class="invert-img" width="200" align="right"/>
      </figure>
    </div>
  </div>
<!--
  <div> 
  </div>
  -->
</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

</body>
</html>